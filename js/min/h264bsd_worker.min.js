function locateFile(r){return Module.locateFile?Module.locateFile(r,scriptDirectory):scriptDirectory+r}function dynamicAlloc(r){var e=HEAP32[DYNAMICTOP_PTR>>2],t=e+r+15&-16;return t>_emscripten_get_heap_size()&&abort(),HEAP32[DYNAMICTOP_PTR>>2]=t,e}function alignMemory(r,e){return e||(e=STACK_ALIGN),Math.ceil(r/e)*e}function getNativeTypeSize(r){switch(r){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===r[r.length-1])return 4;if("i"===r[0]){var e=parseInt(r.substr(1));return assert(e%8==0,"getNativeTypeSize invalid bits "+e+", type "+r),e/8}return 0}}function warnOnce(r){warnOnce.shown||(warnOnce.shown={}),warnOnce.shown[r]||(warnOnce.shown[r]=1,err(r))}function convertJsFunctionToWasm(r,e){var t=[1,0,1,96],n=e.slice(0,1),o=e.slice(1),a={i:127,j:126,f:125,d:124};t.push(o.length);for(var s=0;s<o.length;++s)t.push(a[o[s]]);"v"==n?t.push(0):t=t.concat([1,a[n]]),t[1]=t.length-2;var i=new Uint8Array([0,97,115,109,1,0,0,0].concat(t,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),c=new WebAssembly.Module(i);return new WebAssembly.Instance(c,{e:{f:r}}).exports.f}function addFunctionWasm(r,e){var t=wasmTable,n=t.length;try{t.grow(1)}catch(r){if(!r instanceof RangeError)throw r;throw"Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."}try{t.set(n,r)}catch(a){if(!a instanceof TypeError)throw a;assert(void 0!==e,"Missing signature argument to addFunction");var o=convertJsFunctionToWasm(r,e);t.set(n,o)}return n}function removeFunctionWasm(r){}function addFunction(r,e){for(var t=0;t<0;t++)if(!functionPointers[t])return functionPointers[t]=r,jsCallStartIndex+t;throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."}function removeFunction(r){functionPointers[r-jsCallStartIndex]=null}function getFuncWrapper(r,e){if(r){assert(e),funcWrappers[e]||(funcWrappers[e]={});var t=funcWrappers[e];return t[r]||(1===e.length?t[r]=function(){return dynCall(e,r)}:2===e.length?t[r]=function(t){return dynCall(e,r,[t])}:t[r]=function(){return dynCall(e,r,Array.prototype.slice.call(arguments))}),t[r]}}function makeBigInt(r,e,t){return t?+(r>>>0)+4294967296*+(e>>>0):+(r>>>0)+4294967296*+(0|e)}function dynCall(r,e,t){return t&&t.length?Module["dynCall_"+r].apply(null,[e].concat(t)):Module["dynCall_"+r].call(null,e)}function setValue(r,e,t,n){switch(t=t||"i8","*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":HEAP8[r>>0]=e;break;case"i16":HEAP16[r>>1]=e;break;case"i32":HEAP32[r>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r>>2]=tempI64[0],HEAP32[r+4>>2]=tempI64[1];break;case"float":HEAPF32[r>>2]=e;break;case"double":HEAPF64[r>>3]=e;break;default:abort("invalid type for setValue: "+t)}}function getValue(r,e,t){switch(e=e||"i8","*"===e.charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return HEAP8[r>>0];case"i16":return HEAP16[r>>1];case"i32":case"i64":return HEAP32[r>>2];case"float":return HEAPF32[r>>2];case"double":return HEAPF64[r>>3];default:abort("invalid type for getValue: "+e)}return null}function assert(r,e){r||abort("Assertion failed: "+e)}function getCFunc(r){var e=Module["_"+r];return assert(e,"Cannot call unknown function "+r+", make sure it is exported"),e}function ccall(r,e,t,n,o){var a={string:function(r){var e=0;if(null!==r&&void 0!==r&&0!==r){var t=1+(r.length<<2);e=stackAlloc(t),stringToUTF8(r,e,t)}return e},array:function(r){var e=stackAlloc(r.length);return writeArrayToMemory(r,e),e}},s=getCFunc(r),i=[],c=0;if(n)for(var u=0;u<n.length;u++){var l=a[t[u]];l?(0===c&&(c=stackSave()),i[u]=l(n[u])):i[u]=n[u]}var S=s.apply(null,i);return S=function(r){return"string"===e?UTF8ToString(r):"boolean"===e?Boolean(r):r}(S),0!==c&&stackRestore(c),S}function cwrap(r,e,t,n){t=t||[];var o=t.every(function(r){return"number"===r});return"string"!==e&&o&&!n?getCFunc(r):function(){return ccall(r,e,t,arguments,n)}}function allocate(r,e,t,n){var o,a;"number"==typeof r?(o=!0,a=r):(o=!1,a=r.length);var s,i="string"==typeof e?e:null;if(s=t==ALLOC_NONE?n:[_malloc,stackAlloc,dynamicAlloc][t](Math.max(a,i?1:e.length)),o){var c;for(n=s,assert(0==(3&s)),c=s+(-4&a);n<c;n+=4)HEAP32[n>>2]=0;for(c=s+a;n<c;)HEAP8[n++>>0]=0;return s}if("i8"===i)return r.subarray||r.slice?HEAPU8.set(r,s):HEAPU8.set(new Uint8Array(r),s),s;for(var u,l,S,_=0;_<a;){var d=r[_];u=i||e[_],0!==u?("i64"==u&&(u="i32"),setValue(s+_,d,u),S!==u&&(l=getNativeTypeSize(u),S=u),_+=l):_++}return s}function getMemory(r){return runtimeInitialized?_malloc(r):dynamicAlloc(r)}function Pointer_stringify(r,e){abort("this function has been removed - you should use UTF8ToString(ptr, maxBytesToRead) instead!")}function AsciiToString(r){for(var e="";;){var t=HEAPU8[r++>>0];if(!t)return e;e+=String.fromCharCode(t)}}function stringToAscii(r,e){return writeAsciiToMemory(r,e,!1)}function UTF8ArrayToString(r,e,t){for(var n=e+t,o=e;r[o]&&!(o>=n);)++o;if(o-e>16&&r.subarray&&UTF8Decoder)return UTF8Decoder.decode(r.subarray(e,o));for(var a="";e<o;){var s=r[e++];if(128&s){var i=63&r[e++];if(192!=(224&s)){var c=63&r[e++];if((s=224==(240&s)?(15&s)<<12|i<<6|c:(7&s)<<18|i<<12|c<<6|63&r[e++])<65536)a+=String.fromCharCode(s);else{var u=s-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&s)<<6|i)}else a+=String.fromCharCode(s)}return a}function UTF8ToString(r,e){return r?UTF8ArrayToString(HEAPU8,r,e):""}function stringToUTF8Array(r,e,t,n){if(!(n>0))return 0;for(var o=t,a=t+n-1,s=0;s<r.length;++s){var i=r.charCodeAt(s);if(i>=55296&&i<=57343){i=65536+((1023&i)<<10)|1023&r.charCodeAt(++s)}if(i<=127){if(t>=a)break;e[t++]=i}else if(i<=2047){if(t+1>=a)break;e[t++]=192|i>>6,e[t++]=128|63&i}else if(i<=65535){if(t+2>=a)break;e[t++]=224|i>>12,e[t++]=128|i>>6&63,e[t++]=128|63&i}else{if(t+3>=a)break;e[t++]=240|i>>18,e[t++]=128|i>>12&63,e[t++]=128|i>>6&63,e[t++]=128|63&i}}return e[t]=0,t-o}function stringToUTF8(r,e,t){return stringToUTF8Array(r,HEAPU8,e,t)}function lengthBytesUTF8(r){for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&r.charCodeAt(++t)),n<=127?++e:e+=n<=2047?2:n<=65535?3:4}return e}function UTF16ToString(r){for(var e=r,t=e>>1;HEAP16[t];)++t;if((e=t<<1)-r>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(r,e));for(var n=0,o="";;){var a=HEAP16[r+2*n>>1];if(0==a)return o;++n,o+=String.fromCharCode(a)}}function stringToUTF16(r,e,t){if(void 0===t&&(t=2147483647),t<2)return 0;t-=2;for(var n=e,o=t<2*r.length?t/2:r.length,a=0;a<o;++a){var s=r.charCodeAt(a);HEAP16[e>>1]=s,e+=2}return HEAP16[e>>1]=0,e-n}function lengthBytesUTF16(r){return 2*r.length}function UTF32ToString(r){for(var e=0,t="";;){var n=HEAP32[r+4*e>>2];if(0==n)return t;if(++e,n>=65536){var o=n-65536;t+=String.fromCharCode(55296|o>>10,56320|1023&o)}else t+=String.fromCharCode(n)}}function stringToUTF32(r,e,t){if(void 0===t&&(t=2147483647),t<4)return 0;for(var n=e,o=n+t-4,a=0;a<r.length;++a){var s=r.charCodeAt(a);if(s>=55296&&s<=57343){s=65536+((1023&s)<<10)|1023&r.charCodeAt(++a)}if(HEAP32[e>>2]=s,(e+=4)+4>o)break}return HEAP32[e>>2]=0,e-n}function lengthBytesUTF32(r){for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n>=55296&&n<=57343&&++t,e+=4}return e}function allocateUTF8(r){var e=lengthBytesUTF8(r)+1,t=_malloc(e);return t&&stringToUTF8Array(r,HEAP8,t,e),t}function allocateUTF8OnStack(r){var e=lengthBytesUTF8(r)+1,t=stackAlloc(e);return stringToUTF8Array(r,HEAP8,t,e),t}function writeStringToMemory(r,e,t){warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var n,o;t&&(o=e+lengthBytesUTF8(r),n=HEAP8[o]),stringToUTF8(r,e,1/0),t&&(HEAP8[o]=n)}function writeArrayToMemory(r,e){HEAP8.set(r,e)}function writeAsciiToMemory(r,e,t){for(var n=0;n<r.length;++n)HEAP8[e++>>0]=r.charCodeAt(n);t||(HEAP8[e>>0]=0)}function alignUp(r,e){return r%e>0&&(r+=e-r%e),r}function updateGlobalBufferAndViews(r){buffer=r,Module.HEAP8=HEAP8=new Int8Array(r),Module.HEAP16=HEAP16=new Int16Array(r),Module.HEAP32=HEAP32=new Int32Array(r),Module.HEAPU8=HEAPU8=new Uint8Array(r),Module.HEAPU16=HEAPU16=new Uint16Array(r),Module.HEAPU32=HEAPU32=new Uint32Array(r),Module.HEAPF32=HEAPF32=new Float32Array(r),Module.HEAPF64=HEAPF64=new Float64Array(r)}function callRuntimeCallbacks(r){for(;r.length>0;){var e=r.shift();if("function"!=typeof e){var t=e.func;"number"==typeof t?void 0===e.arg?Module.dynCall_v(t):Module.dynCall_vi(t,e.arg):t(void 0===e.arg?null:e.arg)}else e()}}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,Module.noFSInit||FS.init.initialized||FS.init(),TTY.init(),SOCKFS.root=FS.mount(SOCKFS,{},null),PIPEFS.root=FS.mount(PIPEFS,{},null),callRuntimeCallbacks(__ATINIT__)}function preMain(){FS.ignorePermissions=!1,callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(r){__ATPRERUN__.unshift(r)}function addOnInit(r){__ATINIT__.unshift(r)}function addOnPreMain(r){__ATMAIN__.unshift(r)}function addOnExit(r){}function addOnPostRun(r){__ATPOSTRUN__.unshift(r)}function unSign(r,e,t){return r>=0?r:e<=32?2*Math.abs(1<<e-1)+r:Math.pow(2,e)+r}function reSign(r,e,t){if(r<=0)return r;var n=e<=32?Math.abs(1<<e-1):Math.pow(2,e-1);return r>=n&&(e<=32||r>n)&&(r=-2*n+r),r}function getUniqueRunDependency(r){return r}function addRunDependency(r){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(r){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}function abort(r){throw Module.onAbort&&Module.onAbort(r),r+="",out(r),err(r),ABORT=!0,EXITSTATUS=1,"abort("+r+"). Build with -s ASSERTIONS=1 for more info."}function isDataURI(r){return String.prototype.startsWith?r.startsWith(dataURIPrefix):0===r.indexOf(dataURIPrefix)}function getBinary(){try{if(wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(wasmBinaryFile);throw"both async and sync fetching of the wasm failed"}catch(r){abort(r)}}function getBinaryPromise(){return wasmBinary||!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER||"function"!=typeof fetch?new Promise(function(r,e){r(getBinary())}):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(r){if(!r.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return r.arrayBuffer()}).catch(function(){return getBinary()})}function createWasm(){function r(r,e){var t=r.exports;Module.asm=t,removeRunDependency("wasm-instantiate")}function e(e){r(e.instance)}function t(r){return getBinaryPromise().then(function(r){return WebAssembly.instantiate(r,n)}).then(r,function(r){err("failed to asynchronously prepare wasm: "+r),abort(r)})}var n={env:asmLibraryArg,wasi_unstable:asmLibraryArg,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:asm2wasmImports};if(addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(n,r)}catch(r){return err("Module.instantiateWasm callback failed with error: "+r),!1}return function(){if(wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(wasmBinaryFile)||"function"!=typeof fetch)return t(e);fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(r){return WebAssembly.instantiateStreaming(r,n).then(e,function(r){err("wasm streaming compile failed: "+r),err("falling back to ArrayBuffer instantiation"),t(e)})})}(),{}}function copyTempFloat(r){HEAP8[tempDoublePtr]=HEAP8[r],HEAP8[tempDoublePtr+1]=HEAP8[r+1],HEAP8[tempDoublePtr+2]=HEAP8[r+2],HEAP8[tempDoublePtr+3]=HEAP8[r+3]}function copyTempDouble(r){HEAP8[tempDoublePtr]=HEAP8[r],HEAP8[tempDoublePtr+1]=HEAP8[r+1],HEAP8[tempDoublePtr+2]=HEAP8[r+2],HEAP8[tempDoublePtr+3]=HEAP8[r+3],HEAP8[tempDoublePtr+4]=HEAP8[r+4],HEAP8[tempDoublePtr+5]=HEAP8[r+5],HEAP8[tempDoublePtr+6]=HEAP8[r+6],HEAP8[tempDoublePtr+7]=HEAP8[r+7]}function demangle(r){return r}function demangleAll(r){var e=/\b__Z[\w\d_]+/g;return r.replace(e,function(r){var e=demangle(r);return r===e?r:e+" ["+r+"]"})}function jsStackTrace(){var r=new Error;if(!r.stack){try{throw new Error(0)}catch(e){r=e}if(!r.stack)return"(no stack trace available)"}return r.stack.toString()}function stackTrace(){var r=jsStackTrace();return Module.extraStackTrace&&(r+="\n"+Module.extraStackTrace()),demangleAll(r)}function _emscripten_get_now(){abort()}function _emscripten_get_now_is_monotonic(){return ENVIRONMENT_IS_NODE||"undefined"!=typeof dateNow||"object"==typeof performance&&performance&&"function"==typeof performance.now}function ___setErrNo(r){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=r),r}function _clock_gettime(r,e){var t;if(0===r)t=Date.now();else{if(1!==r||!_emscripten_get_now_is_monotonic())return ___setErrNo(28),-1;t=_emscripten_get_now()}return HEAP32[e>>2]=t/1e3|0,HEAP32[e+4>>2]=t%1e3*1e3*1e3|0,0}function ___clock_gettime(r,e){return _clock_gettime(r,e)}function ___lock(){}function ___map_file(r,e){return ___setErrNo(63),-1}function ___syscall10(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr();return FS.unlink(t),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function __inet_pton4_raw(r){for(var e=r.split("."),t=0;t<4;t++){var n=Number(e[t]);if(isNaN(n))return null;e[t]=n}return(e[0]|e[1]<<8|e[2]<<16|e[3]<<24)>>>0}function __inet_pton6_raw(r){var e,t,n,o,a=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,s=[];if(!a.test(r))return null;if("::"===r)return[0,0,0,0,0,0,0,0];for(r=0===r.indexOf("::")?r.replace("::","Z:"):r.replace("::",":Z:"),r.indexOf(".")>0?(r=r.replace(new RegExp("[.]","g"),":"),e=r.split(":"),e[e.length-4]=parseInt(e[e.length-4])+256*parseInt(e[e.length-3]),e[e.length-3]=parseInt(e[e.length-2])+256*parseInt(e[e.length-1]),e=e.slice(0,e.length-2)):e=r.split(":"),n=0,o=0,t=0;t<e.length;t++)if("string"==typeof e[t])if("Z"===e[t]){for(o=0;o<8-e.length+1;o++)s[t+o]=0;n=o-1}else s[t+n]=_htons(parseInt(e[t],16));else s[t+n]=e[t];return[s[1]<<16|s[0],s[3]<<16|s[2],s[5]<<16|s[4],s[7]<<16|s[6]]}function __inet_ntop4_raw(r){return(255&r)+"."+(r>>8&255)+"."+(r>>16&255)+"."+(r>>24&255)}function __inet_ntop6_raw(r){var e="",t=0,n=0,o=0,a=0,s=0,i=0,c=[65535&r[0],r[0]>>16,65535&r[1],r[1]>>16,65535&r[2],r[2]>>16,65535&r[3],r[3]>>16],u=!0,l="";for(i=0;i<5;i++)if(0!==c[i]){u=!1;break}if(u){if(l=__inet_ntop4_raw(c[6]|c[7]<<16),-1===c[5])return e="::ffff:",e+=l;if(0===c[5])return e="::","0.0.0.0"===l&&(l=""),"0.0.0.1"===l&&(l="1"),e+=l}for(t=0;t<8;t++)0===c[t]&&(t-o>1&&(s=0),o=t,s++),s>n&&(n=s,a=t-n+1);for(t=0;t<8;t++)n>1&&0===c[t]&&t>=a&&t<a+n?t===a&&(e+=":",0===a&&(e+=":")):(e+=Number(_ntohs(65535&c[t])).toString(16),e+=t<7?":":"");return e}function __read_sockaddr(r,e){var t,n=HEAP16[r>>1],o=_ntohs(HEAPU16[r+2>>1]);switch(n){case 2:if(16!==e)return{errno:28};t=HEAP32[r+4>>2],t=__inet_ntop4_raw(t);break;case 10:if(28!==e)return{errno:28};t=[HEAP32[r+8>>2],HEAP32[r+12>>2],HEAP32[r+16>>2],HEAP32[r+20>>2]],t=__inet_ntop6_raw(t);break;default:return{errno:5}}return{family:n,addr:t,port:o}}function __write_sockaddr(r,e,t,n){switch(e){case 2:t=__inet_pton4_raw(t),HEAP16[r>>1]=e,HEAP32[r+4>>2]=t,HEAP16[r+2>>1]=_htons(n);break;case 10:t=__inet_pton6_raw(t),HEAP32[r>>2]=e,HEAP32[r+8>>2]=t[0],HEAP32[r+12>>2]=t[1],HEAP32[r+16>>2]=t[2],HEAP32[r+20>>2]=t[3],HEAP16[r+2>>1]=_htons(n),HEAP32[r+4>>2]=0,HEAP32[r+24>>2]=0;break;default:return{errno:5}}return{}}function ___syscall102(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.get();SYSCALLS.varargs=n;var o=function(){var r=SOCKFS.getSocket(SYSCALLS.get());if(!r)throw new FS.ErrnoError(8);return r},a=function(r){var e=SYSCALLS.get(),t=SYSCALLS.get();if(r&&0===e)return null;var n=__read_sockaddr(e,t);if(n.errno)throw new FS.ErrnoError(n.errno);return n.addr=DNS.lookup_addr(n.addr)||n.addr,n};switch(t){case 1:var s=SYSCALLS.get(),i=SYSCALLS.get(),c=SYSCALLS.get(),u=SOCKFS.createSocket(s,i,c);return u.stream.fd;case 2:var u=o(),l=a();return u.sock_ops.bind(u,l.addr,l.port),0;case 3:var u=o(),l=a();return u.sock_ops.connect(u,l.addr,l.port),0;case 4:var u=o(),S=SYSCALLS.get();return u.sock_ops.listen(u,S),0;case 5:var u=o(),_=SYSCALLS.get(),d=(SYSCALLS.get(),u.sock_ops.accept(u));if(_){__write_sockaddr(_,d.family,DNS.lookup_name(d.daddr),d.dport)}return d.stream.fd;case 6:var u=o(),_=SYSCALLS.get();SYSCALLS.get(),__write_sockaddr(_,u.family,DNS.lookup_name(u.saddr||"0.0.0.0"),u.sport);return 0;case 7:var u=o(),_=SYSCALLS.get();SYSCALLS.get();if(!u.daddr)return-53;__write_sockaddr(_,u.family,DNS.lookup_name(u.daddr),u.dport);return 0;case 11:var u=o(),f=SYSCALLS.get(),E=SYSCALLS.get(),m=(SYSCALLS.get(),a(!0));return m?u.sock_ops.sendmsg(u,HEAP8,f,E,m.addr,m.port):FS.write(u.stream,HEAP8,f,E);case 12:var u=o(),p=SYSCALLS.get(),F=SYSCALLS.get(),_=(SYSCALLS.get(),SYSCALLS.get()),y=(SYSCALLS.get(),u.sock_ops.recvmsg(u,F));if(!y)return 0;if(_){__write_sockaddr(_,u.family,DNS.lookup_name(y.addr),y.port)}return HEAPU8.set(y.buffer,p),y.buffer.byteLength;case 14:return-50;case 15:var u=o(),h=SYSCALLS.get(),g=SYSCALLS.get(),v=SYSCALLS.get(),A=SYSCALLS.get();return 1===h&&4===g?(HEAP32[v>>2]=u.error,HEAP32[A>>2]=4,u.error=null,0):-50;case 16:var _,L,u=o(),f=SYSCALLS.get(),w=(SYSCALLS.get(),HEAP32[f+8>>2]),b=HEAP32[f+12>>2],C=HEAP32[f>>2],P=HEAP32[f+4>>2];if(C){var l=__read_sockaddr(C,P);if(l.errno)return-l.errno;L=l.port,_=DNS.lookup_addr(l.addr)||l.addr}for(var M=0,D=0;D<b;D++)M+=HEAP32[w+(8*D+4)>>2];for(var k=new Uint8Array(M),O=0,D=0;D<b;D++)for(var N=HEAP32[w+(8*D+0)>>2],T=HEAP32[w+(8*D+4)>>2],R=0;R<T;R++)k[O++]=HEAP8[N+R>>0];return u.sock_ops.sendmsg(u,k,0,M,_,L);case 17:for(var u=o(),f=SYSCALLS.get(),w=(SYSCALLS.get(),HEAP32[f+8>>2]),b=HEAP32[f+12>>2],M=0,D=0;D<b;D++)M+=HEAP32[w+(8*D+4)>>2];var y=u.sock_ops.recvmsg(u,M);if(!y)return 0;var C=HEAP32[f>>2];if(C){__write_sockaddr(C,u.family,DNS.lookup_name(y.addr),y.port)}for(var Y=0,H=y.buffer.byteLength,D=0;H>0&&D<b;D++){var N=HEAP32[w+(8*D+0)>>2],T=HEAP32[w+(8*D+4)>>2];if(T){var E=Math.min(T,H),p=y.buffer.subarray(Y,Y+E);HEAPU8.set(p,N+Y),Y+=E,H-=E}}return Y;default:abort("unsupported socketcall syscall "+t)}}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall114(r,e){SYSCALLS.varargs=e;try{abort("cannot wait on child processes")}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall118(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD();return t.stream_ops&&t.stream_ops.fsync?-t.stream_ops.fsync(t):0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall12(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr();return FS.chdir(t),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall121(r,e){SYSCALLS.varargs=e;try{return-63}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall122(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get();if(!t)return-21;var n={sysname:0,nodename:65,domainname:325,machine:260,version:195,release:130,__size__:390},o=function(r,e){writeAsciiToMemory(e,t+n[r])};return o("sysname","Emscripten"),o("nodename","emscripten"),o("release","1.0"),o("version","#1"),o("machine","x86-JS"),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall125(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall132(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get();return t&&t!==PROCINFO.pid?-71:PROCINFO.pgid}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall133(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD();return FS.chdir(t.path),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall14(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get(),o=SYSCALLS.get();return SYSCALLS.doMknod(t,n,o)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall140(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get(),s=SYSCALLS.get(),i=4294967296*n+(o>>>0);return i<=-9007199254740992||i>=9007199254740992?-61:(FS.llseek(t,i,s),tempI64=[t.position>>>0,(tempDouble=t.position,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a>>2]=tempI64[0],HEAP32[a+4>>2]=tempI64[1],t.getdents&&0===i&&0===s&&(t.getdents=null),0)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall142(r,e){SYSCALLS.varargs=e;try{for(var t=SYSCALLS.get(),n=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get(),s=(SYSCALLS.get(),0),i=n?HEAP32[n>>2]:0,c=n?HEAP32[n+4>>2]:0,u=o?HEAP32[o>>2]:0,l=o?HEAP32[o+4>>2]:0,S=a?HEAP32[a>>2]:0,_=a?HEAP32[a+4>>2]:0,d=0,f=0,E=0,m=0,p=0,F=0,y=(n?HEAP32[n>>2]:0)|(o?HEAP32[o>>2]:0)|(a?HEAP32[a>>2]:0),h=(n?HEAP32[n+4>>2]:0)|(o?HEAP32[o+4>>2]:0)|(a?HEAP32[a+4>>2]:0),g=function(r,e,t,n){return r<32?e&n:t&n},v=0;v<t;v++){var A=1<<v%32;if(g(v,y,h,A)){var L=FS.getStream(v);if(!L)throw new FS.ErrnoError(8);var w=SYSCALLS.DEFAULT_POLLMASK;L.stream_ops.poll&&(w=L.stream_ops.poll(L)),1&w&&g(v,i,c,A)&&(v<32?d|=A:f|=A,s++),4&w&&g(v,u,l,A)&&(v<32?E|=A:m|=A,s++),2&w&&g(v,S,_,A)&&(v<32?p|=A:F|=A,s++)}}return n&&(HEAP32[n>>2]=d,HEAP32[n+4>>2]=f),o&&(HEAP32[o>>2]=E,HEAP32[o+4>>2]=m),a&&(HEAP32[a>>2]=p,HEAP32[a+4>>2]=F),s}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall144(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.get(),o=(SYSCALLS.get(),SYSCALLS.mappings[t]);return o?(SYSCALLS.doMsync(t,FS.getStream(o.fd),n,o.flags),0):0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall145(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get();return SYSCALLS.doReadv(t,n,o)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall147(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get();return t&&t!==PROCINFO.pid?-71:PROCINFO.sid}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall148(r,e){SYSCALLS.varargs=e;try{SYSCALLS.getStreamFromFD();return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall15(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get();return FS.chmod(t,n),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall153(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall150(r,e){return ___syscall153(r,e)}function ___syscall151(r,e){return ___syscall153(r,e)}function ___syscall152(r,e){return ___syscall153(r,e)}function ___syscall163(r,e){SYSCALLS.varargs=e;try{return-48}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall168(r,e){SYSCALLS.varargs=e;try{for(var t=SYSCALLS.get(),n=SYSCALLS.get(),o=(SYSCALLS.get(),0),a=0;a<n;a++){var s=t+8*a,i=HEAP32[s>>2],c=HEAP16[s+4>>1],u=32,l=FS.getStream(i);l&&(u=SYSCALLS.DEFAULT_POLLMASK,l.stream_ops.poll&&(u=l.stream_ops.poll(l))),u&=24|c,u&&o++,HEAP16[s+6>>1]=u}return o}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall180(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get(),a=(SYSCALLS.getZero(),SYSCALLS.get64());return FS.read(t,HEAP8,n,o,a)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall181(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get(),a=(SYSCALLS.getZero(),SYSCALLS.get64());return FS.write(t,HEAP8,n,o,a)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall183(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.get();if(0===n)return-28;var o=FS.cwd();return n<lengthBytesUTF8(o)+1?-68:(stringToUTF8(o,t,n),t)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall191(r,e){SYSCALLS.varargs=e;try{var t=(SYSCALLS.get(),SYSCALLS.get());return HEAP32[t>>2]=-1,HEAP32[t+4>>2]=-1,HEAP32[t+8>>2]=-1,HEAP32[t+12>>2]=-1,0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function __emscripten_syscall_mmap2(r,e,t,n,o,a){a<<=12;var s,i=!1;if(0!=(16&n)&&r%PAGE_SIZE!=0)return-28;if(0!=(32&n)){if(!(s=_memalign(PAGE_SIZE,e)))return-48;_memset(s,0,e),i=!0}else{var c=FS.getStream(o);if(!c)return-8;var u=FS.mmap(c,HEAPU8,r,e,a,t,n);s=u.ptr,i=u.allocated}return SYSCALLS.mappings[s]={malloc:s,len:e,allocated:i,fd:o,flags:n},s}function ___syscall192(r,e){SYSCALLS.varargs=e;try{return __emscripten_syscall_mmap2(SYSCALLS.get(),SYSCALLS.get(),SYSCALLS.get(),SYSCALLS.get(),SYSCALLS.get(),SYSCALLS.get())}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall193(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=(SYSCALLS.getZero(),SYSCALLS.get64());return FS.truncate(t,n),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall194(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=(SYSCALLS.getZero(),SYSCALLS.get64());return FS.ftruncate(t,n),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall195(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get();return SYSCALLS.doStat(FS.stat,t,n)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall196(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get();return SYSCALLS.doStat(FS.lstat,t,n)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall197(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get();return SYSCALLS.doStat(FS.stat,t.path,n)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall198(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get(),o=SYSCALLS.get();return FS.chown(t,n,o),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall202(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall199(r,e){return ___syscall202(r,e)}function ___syscall20(r,e){SYSCALLS.varargs=e;try{return PROCINFO.pid}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall200(r,e){return ___syscall202(r,e)}function ___syscall201(r,e){return ___syscall202(r,e)}function ___syscall205(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.get();return t<1?-28:(HEAP32[n>>2]=0,1)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall207(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.get(),o=SYSCALLS.get();return FS.fchown(t,n,o),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall211(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.get(),o=SYSCALLS.get();return HEAP32[t>>2]=0,HEAP32[n>>2]=0,HEAP32[o>>2]=0,0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall209(r,e){return ___syscall211(r,e)}function ___syscall212(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get(),o=SYSCALLS.get();return FS.chown(t,n,o),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall218(r,e){SYSCALLS.varargs=e;try{return-52}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall219(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall220(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get();t.getdents||(t.getdents=FS.readdir(t.path));for(var a=0,s=FS.llseek(t,0,1),i=Math.floor(s/280);i<t.getdents.length&&a+280<=o;){var c,u,l=t.getdents[i];if("."===l[0])c=1,u=4;else{var S=FS.lookupNode(t.node,l);c=S.id,u=FS.isChrdev(S.mode)?2:FS.isDir(S.mode)?4:FS.isLink(S.mode)?10:8}tempI64=[c>>>0,(tempDouble=c,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+a>>2]=tempI64[0],HEAP32[n+a+4>>2]=tempI64[1],tempI64=[280*(i+1)>>>0,(tempDouble=280*(i+1),+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+a+8>>2]=tempI64[0],HEAP32[n+a+12>>2]=tempI64[1],HEAP16[n+a+16>>1]=280,HEAP8[n+a+18>>0]=u,stringToUTF8(l,n+a+19,256),a+=280,i+=1}return FS.llseek(t,280*i,0),a}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall221(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD();switch(SYSCALLS.get()){case 0:var n=SYSCALLS.get();if(n<0)return-28;var o;return o=FS.open(t.path,t.flags,0,n),o.fd;case 1:case 2:return 0;case 3:return t.flags;case 4:var n=SYSCALLS.get();return t.flags|=n,0;case 12:var n=SYSCALLS.get();return HEAP16[n+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return ___setErrNo(28),-1;default:return-28}}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall268(r,e){SYSCALLS.varargs=e;try{var t=(SYSCALLS.getStr(),SYSCALLS.get(),SYSCALLS.get());return HEAP32[t+4>>2]=4096,HEAP32[t+40>>2]=4096,HEAP32[t+8>>2]=1e6,HEAP32[t+12>>2]=5e5,HEAP32[t+16>>2]=5e5,HEAP32[t+20>>2]=FS.nextInode,HEAP32[t+24>>2]=1e6,HEAP32[t+28>>2]=42,HEAP32[t+44>>2]=2,HEAP32[t+36>>2]=255,0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall269(r,e){SYSCALLS.varargs=e;try{var t=(SYSCALLS.getStreamFromFD(),SYSCALLS.get()),n=SYSCALLS.get();return ___syscall([268,0,t,n],0)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall272(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall29(r,e){SYSCALLS.varargs=e;try{return-27}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall295(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get(),a=SYSCALLS.get();return n=SYSCALLS.calculateAt(t,n),FS.open(n,o,a).fd}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall296(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get();return n=SYSCALLS.calculateAt(t,n),SYSCALLS.doMkdir(n,o)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall297(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get(),a=SYSCALLS.get();return n=SYSCALLS.calculateAt(t,n),
SYSCALLS.doMknod(n,o,a)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall298(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get(),a=SYSCALLS.get();SYSCALLS.get();return n=SYSCALLS.calculateAt(t,n),FS.chown(n,o,a),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall3(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get();return FS.read(t,HEAP8,n,o)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall300(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get(),a=SYSCALLS.get(),s=256&a;return a&=-257,n=SYSCALLS.calculateAt(t,n),SYSCALLS.doStat(s?FS.lstat:FS.stat,n,o)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall301(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get();return n=SYSCALLS.calculateAt(t,n),0===o?FS.unlink(n):512===o?FS.rmdir(n):abort("Invalid flags passed to unlinkat"),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall302(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get(),a=SYSCALLS.getStr();return n=SYSCALLS.calculateAt(t,n),a=SYSCALLS.calculateAt(o,a),FS.rename(n,a),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall303(r,e){SYSCALLS.varargs=e;try{return-34}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall304(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.get(),o=SYSCALLS.get();return o=SYSCALLS.calculateAt(n,o),FS.symlink(t,o),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall305(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get(),a=SYSCALLS.get();return n=SYSCALLS.calculateAt(t,n),SYSCALLS.doReadlink(n,o,a)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall306(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get();SYSCALLS.get();return n=SYSCALLS.calculateAt(t,n),FS.chmod(n,o),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall308(r,e){SYSCALLS.varargs=e;try{return-52}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall320(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.getStr(),o=SYSCALLS.get();SYSCALLS.get();n=SYSCALLS.calculateAt(t,n);var a=HEAP32[o>>2],s=HEAP32[o+4>>2],i=1e3*a+s/1e6;o+=8,a=HEAP32[o>>2],s=HEAP32[o+4>>2];var c=1e3*a+s/1e6;return FS.utime(n,i,c),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall324(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=(SYSCALLS.get(),SYSCALLS.get64()),o=SYSCALLS.get64();return FS.allocate(t,n,o),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall33(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get();return SYSCALLS.doAccess(t,n)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall330(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get();SYSCALLS.get();return t.fd===n?-28:SYSCALLS.doDup(t.path,t.flags,n)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall331(r,e){SYSCALLS.varargs=e;try{return-52}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall333(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get();return SYSCALLS.doReadv(t,n,o,a)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall334(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get(),a=SYSCALLS.get();return SYSCALLS.doWritev(t,n,o,a)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall337(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall34(r,e){SYSCALLS.varargs=e;try{SYSCALLS.get();return-63}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall340(r,e){SYSCALLS.varargs=e;try{var t=(SYSCALLS.get(),SYSCALLS.get(),SYSCALLS.get(),SYSCALLS.get());return t&&(HEAP32[t>>2]=-1,HEAP32[t+4>>2]=-1,HEAP32[t+8>>2]=-1,HEAP32[t+12>>2]=-1),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall345(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall36(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall38(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.getStr();return FS.rename(t,n),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall39(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get();return SYSCALLS.doMkdir(t,n)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall4(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get(),o=SYSCALLS.get();return FS.write(t,HEAP8,n,o)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall40(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr();return FS.rmdir(t),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall41(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD();return FS.open(t.path,t.flags,0).fd}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall42(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get();if(0==t)throw new FS.ErrnoError(21);var n=PIPEFS.createPipe();return HEAP32[t>>2]=n.readable_fd,HEAP32[t+4>>2]=n.writable_fd,0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall5(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get(),o=SYSCALLS.get();return FS.open(t,n,o).fd}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall51(r,e){SYSCALLS.varargs=e;try{return-52}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall54(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get();switch(n){case 21509:case 21505:return t.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return t.tty?0:-59;case 21519:if(!t.tty)return-59;var o=SYSCALLS.get();return HEAP32[o>>2]=0,0;case 21520:return t.tty?-28:-59;case 21531:var o=SYSCALLS.get();return FS.ioctl(t,n,o);case 21523:case 21524:return t.tty?0:-59;default:abort("bad ioctl syscall "+n)}}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall57(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.get();return t&&t!==PROCINFO.pid?-71:n&&n!==PROCINFO.pgid?-63:0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall60(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.umask;return SYSCALLS.umask=t,n}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall63(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStreamFromFD(),n=SYSCALLS.get();return t.fd===n?n:SYSCALLS.doDup(t.path,t.flags,n)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall64(r,e){SYSCALLS.varargs=e;try{return PROCINFO.ppid}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall66(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall75(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall77(r,e){SYSCALLS.varargs=e;try{var t=(SYSCALLS.get(),SYSCALLS.get());return _memset(t,0,136),HEAP32[t>>2]=1,HEAP32[t+4>>2]=2,HEAP32[t+8>>2]=3,HEAP32[t+12>>2]=4,0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall83(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.getStr();return FS.symlink(t,n),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall85(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.getStr(),n=SYSCALLS.get(),o=SYSCALLS.get();return SYSCALLS.doReadlink(t,n,o)}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall9(r,e){SYSCALLS.varargs=e;try{SYSCALLS.get(),SYSCALLS.get();return-34}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function __emscripten_syscall_munmap(r,e){if(-1===r||0===e)return-28;var t=SYSCALLS.mappings[r];if(!t)return 0;if(e===t.len){var n=FS.getStream(t.fd);SYSCALLS.doMsync(r,n,e,t.flags),FS.munmap(n),SYSCALLS.mappings[r]=null,t.allocated&&_free(t.malloc)}return 0}function ___syscall91(r,e){SYSCALLS.varargs=e;try{return __emscripten_syscall_munmap(SYSCALLS.get(),SYSCALLS.get())}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall94(r,e){SYSCALLS.varargs=e;try{var t=SYSCALLS.get(),n=SYSCALLS.get();return FS.fchmod(t,n),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall96(r,e){SYSCALLS.varargs=e;try{return 0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___syscall97(r,e){SYSCALLS.varargs=e;try{return-63}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),-r.errno}}function ___unlock(){}function ___wait(){}function _fd_close(r){try{var e=SYSCALLS.getStreamFromFD(r);return FS.close(e),0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),r.errno}}function ___wasi_fd_close(){return _fd_close.apply(null,arguments)}function _fd_write(r,e,t,n){try{var o=SYSCALLS.getStreamFromFD(r),a=SYSCALLS.doWritev(o,e,t);return HEAP32[n>>2]=a,0}catch(r){return void 0!==FS&&r instanceof FS.ErrnoError||abort(r),r.errno}}function ___wasi_fd_write(){return _fd_write.apply(null,arguments)}function _exit(r){exit(r)}function __exit(r){return _exit(r)}function _emscripten_get_heap_size(){return HEAP8.length}function abortOnCannotGrowMemory(r){abort("OOM")}function _emscripten_resize_heap(r){abortOnCannotGrowMemory(r)}function _fork(){return ___setErrNo(6),-1}function _getenv(r){return 0===r?0:(r=UTF8ToString(r),ENV.hasOwnProperty(r)?(_getenv.ret&&_free(_getenv.ret),_getenv.ret=allocateUTF8(ENV[r]),_getenv.ret):0)}function _getnameinfo(r,e,t,n,o,a,s){var i=__read_sockaddr(r,e);if(i.errno)return-6;var c=i.port,u=i.addr,l=!1;if(t&&n){var S;if(1&s||!(S=DNS.lookup_addr(u))){if(8&s)return-2}else u=S;var _=stringToUTF8(u,t,n);_+1>=n&&(l=!0)}if(o&&a){c=""+c;var _=stringToUTF8(c,o,a);_+1>=a&&(l=!0)}return l?-12:0}function _gmtime_r(r,e){var t=new Date(1e3*HEAP32[r>>2]);HEAP32[e>>2]=t.getUTCSeconds(),HEAP32[e+4>>2]=t.getUTCMinutes(),HEAP32[e+8>>2]=t.getUTCHours(),HEAP32[e+12>>2]=t.getUTCDate(),HEAP32[e+16>>2]=t.getUTCMonth(),HEAP32[e+20>>2]=t.getUTCFullYear()-1900,HEAP32[e+24>>2]=t.getUTCDay(),HEAP32[e+36>>2]=0,HEAP32[e+32>>2]=0;var n=Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0),o=(t.getTime()-n)/864e5|0;return HEAP32[e+28>>2]=o,HEAP32[e+40>>2]=___tm_timezone,e}function _inet_addr(r){var e=__inet_pton4_raw(UTF8ToString(r));return null===e?-1:e}function _llvm_stackrestore(r){var e=_llvm_stacksave,t=e.LLVM_SAVEDSTACKS[r];e.LLVM_SAVEDSTACKS.splice(r,1),stackRestore(t)}function _llvm_stacksave(){var r=_llvm_stacksave;return r.LLVM_SAVEDSTACKS||(r.LLVM_SAVEDSTACKS=[]),r.LLVM_SAVEDSTACKS.push(stackSave()),r.LLVM_SAVEDSTACKS.length-1}function _emscripten_memcpy_big(r,e,t){HEAPU8.set(HEAPU8.subarray(e,e+t),r)}function _usleep(r){var e=r/1e3;if((ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&self.performance&&self.performance.now)for(var t=self.performance.now();self.performance.now()-t<e;);else for(var t=Date.now();Date.now()-t<e;);return 0}function _nanosleep(r,e){if(0===r)return ___setErrNo(28),-1;var t=HEAP32[r>>2],n=HEAP32[r+4>>2];return n<0||n>999999999||t<0?(___setErrNo(28),-1):(0!==e&&(HEAP32[e>>2]=0,HEAP32[e+4>>2]=0),_usleep(1e6*t+n/1e3))}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}function _pthread_cleanup_push(r,e){__ATEXIT__.push(function(){dynCall_vi(r,e)}),_pthread_cleanup_push.level=__ATEXIT__.length}function _pthread_setcancelstate(){return 0}function _pthread_sigmask(){return 0}function _setitimer(){throw"setitimer() is not implemented yet"}function _sigfillset(r){return HEAP32[r>>2]=-1>>>0,0}function __isLeapYear(r){return r%4==0&&(r%100!=0||r%400==0)}function __arraySum(r,e){for(var t=0,n=0;n<=e;t+=r[n++]);return t}function __addDays(r,e){for(var t=new Date(r.getTime());e>0;){var n=__isLeapYear(t.getFullYear()),o=t.getMonth(),a=(n?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR)[o];if(!(e>a-t.getDate()))return t.setDate(t.getDate()+e),t;e-=a-t.getDate()+1,t.setDate(1),o<11?t.setMonth(o+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}function _strftime(r,e,t,n){function o(r,e,t){for(var n="number"==typeof r?r.toString():r||"";n.length<e;)n=t[0]+n;return n}function a(r,e){return o(r,e,"0")}function s(r,e){function t(r){return r<0?-1:r>0?1:0}var n;return 0===(n=t(r.getFullYear()-e.getFullYear()))&&0===(n=t(r.getMonth()-e.getMonth()))&&(n=t(r.getDate()-e.getDate())),n}function i(r){switch(r.getDay()){case 0:return new Date(r.getFullYear()-1,11,29);case 1:return r;case 2:return new Date(r.getFullYear(),0,3);case 3:return new Date(r.getFullYear(),0,2);case 4:return new Date(r.getFullYear(),0,1);case 5:return new Date(r.getFullYear()-1,11,31);case 6:return new Date(r.getFullYear()-1,11,30)}}function c(r){var e=__addDays(new Date(r.tm_year+1900,0,1),r.tm_yday),t=new Date(e.getFullYear(),0,4),n=new Date(e.getFullYear()+1,0,4),o=i(t),a=i(n);return s(o,e)<=0?s(a,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var u=HEAP32[n+40>>2],l={tm_sec:HEAP32[n>>2],tm_min:HEAP32[n+4>>2],tm_hour:HEAP32[n+8>>2],tm_mday:HEAP32[n+12>>2],tm_mon:HEAP32[n+16>>2],tm_year:HEAP32[n+20>>2],tm_wday:HEAP32[n+24>>2],tm_yday:HEAP32[n+28>>2],tm_isdst:HEAP32[n+32>>2],tm_gmtoff:HEAP32[n+36>>2],tm_zone:u?UTF8ToString(u):""},S=UTF8ToString(t),_={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var d in _)S=S.replace(new RegExp(d,"g"),_[d]);var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],E=["January","February","March","April","May","June","July","August","September","October","November","December"],m={"%a":function(r){return f[r.tm_wday].substring(0,3)},"%A":function(r){return f[r.tm_wday]},"%b":function(r){return E[r.tm_mon].substring(0,3)},"%B":function(r){return E[r.tm_mon]},"%C":function(r){return a((r.tm_year+1900)/100|0,2)},"%d":function(r){return a(r.tm_mday,2)},"%e":function(r){return o(r.tm_mday,2," ")},"%g":function(r){return c(r).toString().substring(2)},"%G":function(r){return c(r)},"%H":function(r){return a(r.tm_hour,2)},"%I":function(r){var e=r.tm_hour;return 0==e?e=12:e>12&&(e-=12),a(e,2)},"%j":function(r){return a(r.tm_mday+__arraySum(__isLeapYear(r.tm_year+1900)?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,r.tm_mon-1),3)},"%m":function(r){return a(r.tm_mon+1,2)},"%M":function(r){return a(r.tm_min,2)},"%n":function(){return"\n"},"%p":function(r){return r.tm_hour>=0&&r.tm_hour<12?"AM":"PM"},"%S":function(r){return a(r.tm_sec,2)},"%t":function(){return"\t"},"%u":function(r){return r.tm_wday||7},"%U":function(r){var e=new Date(r.tm_year+1900,0,1),t=0===e.getDay()?e:__addDays(e,7-e.getDay()),n=new Date(r.tm_year+1900,r.tm_mon,r.tm_mday);if(s(t,n)<0){var o=__arraySum(__isLeapYear(n.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,n.getMonth()-1)-31,i=31-t.getDate(),c=i+o+n.getDate();return a(Math.ceil(c/7),2)}return 0===s(t,e)?"01":"00"},"%V":function(r){var e=new Date(r.tm_year+1900,0,4),t=new Date(r.tm_year+1901,0,4),n=i(e),o=i(t),c=__addDays(new Date(r.tm_year+1900,0,1),r.tm_yday);if(s(c,n)<0)return"53";if(s(o,c)<=0)return"01";var u;return u=n.getFullYear()<r.tm_year+1900?r.tm_yday+32-n.getDate():r.tm_yday+1-n.getDate(),a(Math.ceil(u/7),2)},"%w":function(r){return r.tm_wday},"%W":function(r){var e=new Date(r.tm_year,0,1),t=1===e.getDay()?e:__addDays(e,0===e.getDay()?1:7-e.getDay()+1),n=new Date(r.tm_year+1900,r.tm_mon,r.tm_mday);if(s(t,n)<0){var o=__arraySum(__isLeapYear(n.getFullYear())?__MONTH_DAYS_LEAP:__MONTH_DAYS_REGULAR,n.getMonth()-1)-31,i=31-t.getDate(),c=i+o+n.getDate();return a(Math.ceil(c/7),2)}return 0===s(t,e)?"01":"00"},"%y":function(r){return(r.tm_year+1900).toString().substring(2)},"%Y":function(r){return r.tm_year+1900},"%z":function(r){var e=r.tm_gmtoff,t=e>=0;return e=Math.abs(e)/60,e=e/60*100+e%60,(t?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(r){return r.tm_zone},"%%":function(){return"%"}};for(var d in m)S.indexOf(d)>=0&&(S=S.replace(new RegExp(d,"g"),m[d](l)));var p=intArrayFromString(S,!1);return p.length>e?0:(writeArrayToMemory(p,r),p.length-1)}function _time(r){var e=Date.now()/1e3|0;return r&&(HEAP32[r>>2]=e),e}function _wait(r){return ___setErrNo(12),-1}function _waitpid(){return _wait.apply(null,arguments)}function intArrayFromString(r,e,t){var n=t>0?t:lengthBytesUTF8(r)+1,o=new Array(n),a=stringToUTF8Array(r,o,0,o.length);return e&&(o.length=a),o}function intArrayToString(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];n>255&&(ASSERTIONS&&assert(!1,"Character code "+n+" ("+String.fromCharCode(n)+")  at offset "+t+" not in 0x00-0xFF."),n&=255),e.push(String.fromCharCode(n))}return e.join("")}function invoke_ii(r,e){var t=stackSave();try{return dynCall_ii(r,e)}catch(r){if(stackRestore(t),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function invoke_iidiiii(r,e,t,n,o,a,s){var i=stackSave();try{return dynCall_iidiiii(r,e,t,n,o,a,s)}catch(r){if(stackRestore(i),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function invoke_iii(r,e,t){var n=stackSave();try{return dynCall_iii(r,e,t)}catch(r){if(stackRestore(n),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function invoke_iiii(r,e,t,n){var o=stackSave();try{return dynCall_iiii(r,e,t,n)}catch(r){if(stackRestore(o),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function invoke_iiiii(r,e,t,n,o){var a=stackSave();try{return dynCall_iiiii(r,e,t,n,o)}catch(r){if(stackRestore(a),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function invoke_iiiiii(r,e,t,n,o,a){var s=stackSave();try{return dynCall_iiiiii(r,e,t,n,o,a)}catch(r){if(stackRestore(s),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function invoke_jiji(r,e,t,n,o){var a=stackSave();try{return dynCall_jiji(r,e,t,n,o)}catch(r){if(stackRestore(a),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function invoke_v(r){var e=stackSave();try{dynCall_v(r)}catch(r){if(stackRestore(e),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function invoke_vi(r,e){var t=stackSave();try{dynCall_vi(r,e)}catch(r){if(stackRestore(t),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function invoke_vii(r,e,t){var n=stackSave();try{dynCall_vii(r,e,t)}catch(r){if(stackRestore(n),r!==r+0&&"longjmp"!==r)throw r;_setThrew(1,0)}}function ExitStatus(r){this.name="ExitStatus",this.message="Program terminated with exit("+r+")",this.status=r}function run(r){function e(){calledRun||(calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),postRun()))}r=r||arguments_,runDependencies>0||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()))}function exit(r,e){e&&noExitRuntime&&0===r||(noExitRuntime||(ABORT=!0,EXITSTATUS=r,exitRuntime(),Module.onExit&&Module.onExit(r)),quit_(r,new ExitStatus(r)))}function H264bsdDecoder(r){this.module=r,this.released=!1,this.pInput=0,this.inputLength=0,this.inputOffset=0,this.onPictureReady=null,this.onHeadersReady=null,this.pStorage=r._h264bsdAlloc(),r._h264bsdInit(this.pStorage,0)}var Module=void 0!==Module?Module:{},moduleOverrides={},key;for(key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var arguments_=[],thisProgram="./this.program",quit_=function(r,e){throw e},ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_HAS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_HAS_NODE="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,ENVIRONMENT_IS_NODE=ENVIRONMENT_HAS_NODE&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_NODE){scriptDirectory=__dirname+"/";var nodeFS,nodePath;read_=function(r,e){var t;return nodeFS||(nodeFS=require("fs")),nodePath||(nodePath=require("path")),r=nodePath.normalize(r),t=nodeFS.readFileSync(r),e?t:t.toString()},readBinary=function(r){var e=read_(r,!0);return e.buffer||(e=new Uint8Array(e)),assert(e.buffer),e},process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(r){if(!(r instanceof ExitStatus))throw r}),process.on("unhandledRejection",abort),quit_=function(r){process.exit(r)},Module.inspect=function(){return"[Emscripten Module object]"}}else ENVIRONMENT_IS_SHELL?("undefined"!=typeof read&&(read_=function(r){return read(r)}),readBinary=function(r){var e;return"function"==typeof readbuffer?new Uint8Array(readbuffer(r)):(e=read(r,"binary"),assert("object"==typeof e),e)},"undefined"!=typeof scriptArgs?arguments_=scriptArgs:"undefined"!=typeof arguments&&(arguments_=arguments),"function"==typeof quit&&(quit_=function(r){quit(r)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf("blob:")?scriptDirectory.substr(0,scriptDirectory.lastIndexOf("/")+1):"",read_=function(r){var e=new XMLHttpRequest;return e.open("GET",r,!1),e.send(null),e.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=function(r){var e=new XMLHttpRequest;return e.open("GET",r,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),readAsync=function(r,e,t){var n=new XMLHttpRequest;n.open("GET",r,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)return void e(n.response);t()},n.onerror=t,n.send(null)},setWindowTitle=function(r){document.title=r});var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);for(key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,asm2wasmImports={"f64-rem":function(r,e){return r%e},debugger:function(){}},jsCallStartIndex=1,functionPointers=new Array(0),funcWrappers={},tempRet0=0,setTempRet0=function(r){tempRet0=r},getTempRet0=function(){return tempRet0},Runtime={},GLOBAL_BASE=1024,wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime;Module.noExitRuntime&&(noExitRuntime=Module.noExitRuntime),"object"!=typeof WebAssembly&&err("no native wasm support detected");var wasmMemory,wasmTable=new WebAssembly.Table({initial:61,maximum:61,element:"anyfunc"}),ABORT=!1,EXITSTATUS=0,ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_DYNAMIC=2,ALLOC_NONE=3,UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,PAGE_SIZE=16384,WASM_PAGE_SIZE=65536,ASMJS_PAGE_SIZE=16777216,HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE=1024,STACK_BASE=183136,STACKTOP=STACK_BASE,STACK_MAX=5426016,DYNAMIC_BASE=5426016,DYNAMICTOP_PTR=182928,TOTAL_STACK=5242880,INITIAL_TOTAL_MEMORY=Module.TOTAL_MEMORY||67108864;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_TOTAL_MEMORY/WASM_PAGE_SIZE,maximum:INITIAL_TOTAL_MEMORY/WASM_PAGE_SIZE}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_TOTAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1,Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_round=Math.round,Math_min=Math.min,Math_max=Math.max,Math_clz32=Math.clz32,Math_trunc=Math.trunc,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile="h264bsd_asm.wasm";isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile)),Module.asm=createWasm;var tempDouble,tempI64,ASM_CONSTS=[],tempDoublePtr=183120,PATH={splitPath:function(r){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(r).slice(1)},normalizeArray:function(r,e){for(var t=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),t++):t&&(r.splice(n,1),t--)}if(e)for(;t;t--)r.unshift("..");return r},normalize:function(r){var e="/"===r.charAt(0),t="/"===r.substr(-1);return r=PATH.normalizeArray(r.split("/").filter(function(r){return!!r}),!e).join("/"),r||e||(r="."),r&&t&&(r+="/"),(e?"/":"")+r},dirname:function(r){var e=PATH.splitPath(r),t=e[0],n=e[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename:function(r){if("/"===r)return"/";var e=r.lastIndexOf("/");return-1===e?r:r.substr(e+1)},extname:function(r){return PATH.splitPath(r)[3]},join:function(){var r=Array.prototype.slice.call(arguments,0);return PATH.normalize(r.join("/"))},join2:function(r,e){return PATH.normalize(r+"/"+e)}},PATH_FS={resolve:function(){for(var r="",e=!1,t=arguments.length-1;t>=-1&&!e;t--){var n=t>=0?arguments[t]:FS.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";r=n+"/"+r,e="/"===n.charAt(0)}return r=PATH.normalizeArray(r.split("/").filter(function(r){return!!r}),!e).join("/"),(e?"/":"")+r||"."},relative:function(r,e){function t(r){for(var e=0;e<r.length&&""===r[e];e++);for(var t=r.length-1;t>=0&&""===r[t];t--);return e>t?[]:r.slice(e,t-e+1)}r=PATH_FS.resolve(r).substr(1),e=PATH_FS.resolve(e).substr(1);for(var n=t(r.split("/")),o=t(e.split("/")),a=Math.min(n.length,o.length),s=a,i=0;i<a;i++)if(n[i]!==o[i]){s=i;break}for(var c=[],i=s;i<n.length;i++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(r,e){TTY.ttys[r]={input:[],output:[],ops:e},FS.registerDevice(r,TTY.stream_ops)},stream_ops:{open:function(r){var e=TTY.ttys[r.node.rdev];if(!e)throw new FS.ErrnoError(43);r.tty=e,r.seekable=!1},close:function(r){r.tty.ops.flush(r.tty)},flush:function(r){r.tty.ops.flush(r.tty)},read:function(r,e,t,n,o){if(!r.tty||!r.tty.ops.get_char)throw new FS.ErrnoError(60);for(var a=0,s=0;s<n;s++){var i;try{i=r.tty.ops.get_char(r.tty)}catch(r){throw new FS.ErrnoError(29)}if(void 0===i&&0===a)throw new FS.ErrnoError(6);if(null===i||void 0===i)break;a++,e[t+s]=i}return a&&(r.node.timestamp=Date.now()),a},write:function(r,e,t,n,o){if(!r.tty||!r.tty.ops.put_char)throw new FS.ErrnoError(60);try{for(var a=0;a<n;a++)r.tty.ops.put_char(r.tty,e[t+a])}catch(r){throw new FS.ErrnoError(29)}return n&&(r.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(r){if(!r.input.length){var e=null;if(ENVIRONMENT_IS_NODE){var t=Buffer.alloc?Buffer.alloc(256):new Buffer(256),n=0;try{n=fs.readSync(process.stdin.fd,t,0,256,null)}catch(r){if(-1==r.toString().indexOf("EOF"))throw r;n=0}e=n>0?t.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n");if(!e)return null;r.input=intArrayFromString(e,!0)}return r.input.shift()},put_char:function(r,e){null===e||10===e?(out(UTF8ArrayToString(r.output,0)),r.output=[]):0!=e&&r.output.push(e)},flush:function(r){r.output&&r.output.length>0&&(out(UTF8ArrayToString(r.output,0)),r.output=[])}},default_tty1_ops:{put_char:function(r,e){null===e||10===e?(err(UTF8ArrayToString(r.output,0)),r.output=[]):0!=e&&r.output.push(e)},flush:function(r){r.output&&r.output.length>0&&(err(UTF8ArrayToString(r.output,0)),r.output=[])}}},MEMFS={ops_table:null,mount:function(r){return MEMFS.createNode(null,"/",16895,0)},createNode:function(r,e,t,n){if(FS.isBlkdev(t)||FS.isFIFO(t))throw new FS.ErrnoError(63);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var o=FS.createNode(r,e,t,n);return FS.isDir(o.mode)?(o.node_ops=MEMFS.ops_table.dir.node,o.stream_ops=MEMFS.ops_table.dir.stream,o.contents={}):FS.isFile(o.mode)?(o.node_ops=MEMFS.ops_table.file.node,o.stream_ops=MEMFS.ops_table.file.stream,o.usedBytes=0,o.contents=null):FS.isLink(o.mode)?(o.node_ops=MEMFS.ops_table.link.node,o.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(o.mode)&&(o.node_ops=MEMFS.ops_table.chrdev.node,o.stream_ops=MEMFS.ops_table.chrdev.stream),o.timestamp=Date.now(),r&&(r.contents[e]=o),o},getFileDataAsRegularArray:function(r){if(r.contents&&r.contents.subarray){for(var e=[],t=0;t<r.usedBytes;++t)e.push(r.contents[t]);return e}return r.contents},getFileDataAsTypedArray:function(r){return r.contents?r.contents.subarray?r.contents.subarray(0,r.usedBytes):new Uint8Array(r.contents):new Uint8Array},expandFileStorage:function(r,e){var t=r.contents?r.contents.length:0;if(!(t>=e)){e=Math.max(e,t*(t<1048576?2:1.125)|0),0!=t&&(e=Math.max(e,256));var n=r.contents;r.contents=new Uint8Array(e),r.usedBytes>0&&r.contents.set(n.subarray(0,r.usedBytes),0)}},
resizeFileStorage:function(r,e){if(r.usedBytes!=e){if(0==e)return r.contents=null,void(r.usedBytes=0);if(!r.contents||r.contents.subarray){var t=r.contents;return r.contents=new Uint8Array(new ArrayBuffer(e)),t&&r.contents.set(t.subarray(0,Math.min(e,r.usedBytes))),void(r.usedBytes=e)}if(r.contents||(r.contents=[]),r.contents.length>e)r.contents.length=e;else for(;r.contents.length<e;)r.contents.push(0);r.usedBytes=e}},node_ops:{getattr:function(r){var e={};return e.dev=FS.isChrdev(r.mode)?r.id:1,e.ino=r.id,e.mode=r.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=r.rdev,FS.isDir(r.mode)?e.size=4096:FS.isFile(r.mode)?e.size=r.usedBytes:FS.isLink(r.mode)?e.size=r.link.length:e.size=0,e.atime=new Date(r.timestamp),e.mtime=new Date(r.timestamp),e.ctime=new Date(r.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(r,e){void 0!==e.mode&&(r.mode=e.mode),void 0!==e.timestamp&&(r.timestamp=e.timestamp),void 0!==e.size&&MEMFS.resizeFileStorage(r,e.size)},lookup:function(r,e){throw FS.genericErrors[44]},mknod:function(r,e,t,n){return MEMFS.createNode(r,e,t,n)},rename:function(r,e,t){if(FS.isDir(r.mode)){var n;try{n=FS.lookupNode(e,t)}catch(r){}if(n)for(var o in n.contents)throw new FS.ErrnoError(55)}delete r.parent.contents[r.name],r.name=t,e.contents[t]=r,r.parent=e},unlink:function(r,e){delete r.contents[e]},rmdir:function(r,e){var t=FS.lookupNode(r,e);for(var n in t.contents)throw new FS.ErrnoError(55);delete r.contents[e]},readdir:function(r){var e=[".",".."];for(var t in r.contents)r.contents.hasOwnProperty(t)&&e.push(t);return e},symlink:function(r,e,t){var n=MEMFS.createNode(r,e,41471,0);return n.link=t,n},readlink:function(r){if(!FS.isLink(r.mode))throw new FS.ErrnoError(28);return r.link}},stream_ops:{read:function(r,e,t,n,o){var a=r.node.contents;if(o>=r.node.usedBytes)return 0;var s=Math.min(r.node.usedBytes-o,n);if(s>8&&a.subarray)e.set(a.subarray(o,o+s),t);else for(var i=0;i<s;i++)e[t+i]=a[o+i];return s},write:function(r,e,t,n,o,a){if(!n)return 0;var s=r.node;if(s.timestamp=Date.now(),e.subarray&&(!s.contents||s.contents.subarray)){if(a)return s.contents=e.subarray(t,t+n),s.usedBytes=n,n;if(0===s.usedBytes&&0===o)return s.contents=new Uint8Array(e.subarray(t,t+n)),s.usedBytes=n,n;if(o+n<=s.usedBytes)return s.contents.set(e.subarray(t,t+n),o),n}if(MEMFS.expandFileStorage(s,o+n),s.contents.subarray&&e.subarray)s.contents.set(e.subarray(t,t+n),o);else for(var i=0;i<n;i++)s.contents[o+i]=e[t+i];return s.usedBytes=Math.max(s.usedBytes,o+n),n},llseek:function(r,e,t){var n=e;if(1===t?n+=r.position:2===t&&FS.isFile(r.node.mode)&&(n+=r.node.usedBytes),n<0)throw new FS.ErrnoError(28);return n},allocate:function(r,e,t){MEMFS.expandFileStorage(r.node,e+t),r.node.usedBytes=Math.max(r.node.usedBytes,e+t)},mmap:function(r,e,t,n,o,a,s){if(!FS.isFile(r.node.mode))throw new FS.ErrnoError(43);var i,c,u=r.node.contents;if(2&s||u.buffer!==e&&u.buffer!==e.buffer){(o>0||o+n<r.node.usedBytes)&&(u=u.subarray?u.subarray(o,o+n):Array.prototype.slice.call(u,o,o+n)),c=!0;var l=e.buffer==HEAP8.buffer;if(!(i=_malloc(n)))throw new FS.ErrnoError(48);(l?HEAP8:e).set(u,i)}else c=!1,i=u.byteOffset;return{ptr:i,allocated:c}},msync:function(r,e,t,n,o){if(!FS.isFile(r.node.mode))throw new FS.ErrnoError(43);if(2&o)return 0;MEMFS.stream_ops.write(r,e,0,n,t,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var r=null;return"object"==typeof window&&(r=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(r,"IDBFS used, but indexedDB not supported"),r},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(r){return MEMFS.mount.apply(null,arguments)},syncfs:function(r,e,t){IDBFS.getLocalSet(r,function(n,o){if(n)return t(n);IDBFS.getRemoteSet(r,function(r,n){if(r)return t(r);var a=e?n:o,s=e?o:n;IDBFS.reconcile(a,s,t)})})},getDB:function(r,e){var t=IDBFS.dbs[r];if(t)return e(null,t);var n;try{n=IDBFS.indexedDB().open(r,IDBFS.DB_VERSION)}catch(r){return e(r)}if(!n)return e("Unable to connect to IndexedDB");n.onupgradeneeded=function(r){var e,t=r.target.result,n=r.target.transaction;e=t.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?n.objectStore(IDBFS.DB_STORE_NAME):t.createObjectStore(IDBFS.DB_STORE_NAME),e.indexNames.contains("timestamp")||e.createIndex("timestamp","timestamp",{unique:!1})},n.onsuccess=function(){t=n.result,IDBFS.dbs[r]=t,e(null,t)},n.onerror=function(r){e(this.error),r.preventDefault()}},getLocalSet:function(r,e){function t(r){return"."!==r&&".."!==r}function n(r){return function(e){return PATH.join2(r,e)}}for(var o={},a=FS.readdir(r.mountpoint).filter(t).map(n(r.mountpoint));a.length;){var s,i=a.pop();try{s=FS.stat(i)}catch(r){return e(r)}FS.isDir(s.mode)&&a.push.apply(a,FS.readdir(i).filter(t).map(n(i))),o[i]={timestamp:s.mtime}}return e(null,{type:"local",entries:o})},getRemoteSet:function(r,e){var t={};IDBFS.getDB(r.mountpoint,function(r,n){if(r)return e(r);try{var o=n.transaction([IDBFS.DB_STORE_NAME],"readonly");o.onerror=function(r){e(this.error),r.preventDefault()};o.objectStore(IDBFS.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(r){var o=r.target.result;if(!o)return e(null,{type:"remote",db:n,entries:t});t[o.primaryKey]={timestamp:o.key},o.continue()}}catch(r){return e(r)}})},loadLocalEntry:function(r,e){var t,n;try{n=FS.lookupPath(r).node,t=FS.stat(r)}catch(r){return e(r)}return FS.isDir(t.mode)?e(null,{timestamp:t.mtime,mode:t.mode}):FS.isFile(t.mode)?(n.contents=MEMFS.getFileDataAsTypedArray(n),e(null,{timestamp:t.mtime,mode:t.mode,contents:n.contents})):e(new Error("node type not supported"))},storeLocalEntry:function(r,e,t){try{if(FS.isDir(e.mode))FS.mkdir(r,e.mode);else{if(!FS.isFile(e.mode))return t(new Error("node type not supported"));FS.writeFile(r,e.contents,{canOwn:!0})}FS.chmod(r,e.mode),FS.utime(r,e.timestamp,e.timestamp)}catch(r){return t(r)}t(null)},removeLocalEntry:function(r,e){try{var t=(FS.lookupPath(r),FS.stat(r));FS.isDir(t.mode)?FS.rmdir(r):FS.isFile(t.mode)&&FS.unlink(r)}catch(r){return e(r)}e(null)},loadRemoteEntry:function(r,e,t){var n=r.get(e);n.onsuccess=function(r){t(null,r.target.result)},n.onerror=function(r){t(this.error),r.preventDefault()}},storeRemoteEntry:function(r,e,t,n){var o=r.put(t,e);o.onsuccess=function(){n(null)},o.onerror=function(r){n(this.error),r.preventDefault()}},removeRemoteEntry:function(r,e,t){var n=r.delete(e);n.onsuccess=function(){t(null)},n.onerror=function(r){t(this.error),r.preventDefault()}},reconcile:function(r,e,t){function n(r){if(r&&!i)return i=!0,t(r)}var o=0,a=[];Object.keys(r.entries).forEach(function(t){var n=r.entries[t],s=e.entries[t];(!s||n.timestamp>s.timestamp)&&(a.push(t),o++)});var s=[];if(Object.keys(e.entries).forEach(function(t){e.entries[t];r.entries[t]||(s.push(t),o++)}),!o)return t(null);var i=!1,c="remote"===r.type?r.db:e.db,u=c.transaction([IDBFS.DB_STORE_NAME],"readwrite"),l=u.objectStore(IDBFS.DB_STORE_NAME);u.onerror=function(r){n(this.error),r.preventDefault()},u.oncomplete=function(r){i||t(null)},a.sort().forEach(function(r){"local"===e.type?IDBFS.loadRemoteEntry(l,r,function(e,t){if(e)return n(e);IDBFS.storeLocalEntry(r,t,n)}):IDBFS.loadLocalEntry(r,function(e,t){if(e)return n(e);IDBFS.storeRemoteEntry(l,r,t,n)})}),s.sort().reverse().forEach(function(r){"local"===e.type?IDBFS.removeLocalEntry(r,n):IDBFS.removeRemoteEntry(l,r,n)})}},ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/);var r=process.binding("constants");r.fs&&(r=r.fs),NODEFS.flagsForNodeMap={1024:r.O_APPEND,64:r.O_CREAT,128:r.O_EXCL,0:r.O_RDONLY,2:r.O_RDWR,4096:r.O_SYNC,512:r.O_TRUNC,1:r.O_WRONLY}},bufferFrom:function(r){return Buffer.alloc?Buffer.from(r):new Buffer(r)},convertNodeCode:function(r){var e=r.code;return assert(e in ERRNO_CODES),ERRNO_CODES[e]},mount:function(r){return assert(ENVIRONMENT_HAS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(r.opts.root),0)},createNode:function(r,e,t,n){if(!FS.isDir(t)&&!FS.isFile(t)&&!FS.isLink(t))throw new FS.ErrnoError(28);var o=FS.createNode(r,e,t);return o.node_ops=NODEFS.node_ops,o.stream_ops=NODEFS.stream_ops,o},getMode:function(r){var e;try{e=fs.lstatSync(r),NODEFS.isWindows&&(e.mode=e.mode|(292&e.mode)>>2)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}return e.mode},realPath:function(r){for(var e=[];r.parent!==r;)e.push(r.name),r=r.parent;return e.push(r.mount.opts.root),e.reverse(),PATH.join.apply(null,e)},flagsForNode:function(r){r&=-2097153,r&=-2049,r&=-32769,r&=-524289;var e=0;for(var t in NODEFS.flagsForNodeMap)r&t&&(e|=NODEFS.flagsForNodeMap[t],r^=t);if(r)throw new FS.ErrnoError(28);return e},node_ops:{getattr:function(r){var e,t=NODEFS.realPath(r);try{e=fs.lstatSync(t)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}return NODEFS.isWindows&&!e.blksize&&(e.blksize=4096),NODEFS.isWindows&&!e.blocks&&(e.blocks=(e.size+e.blksize-1)/e.blksize|0),{dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,size:e.size,atime:e.atime,mtime:e.mtime,ctime:e.ctime,blksize:e.blksize,blocks:e.blocks}},setattr:function(r,e){var t=NODEFS.realPath(r);try{if(void 0!==e.mode&&(fs.chmodSync(t,e.mode),r.mode=e.mode),void 0!==e.timestamp){var n=new Date(e.timestamp);fs.utimesSync(t,n,n)}void 0!==e.size&&fs.truncateSync(t,e.size)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},lookup:function(r,e){var t=PATH.join2(NODEFS.realPath(r),e),n=NODEFS.getMode(t);return NODEFS.createNode(r,e,n)},mknod:function(r,e,t,n){var o=NODEFS.createNode(r,e,t,n),a=NODEFS.realPath(o);try{FS.isDir(o.mode)?fs.mkdirSync(a,o.mode):fs.writeFileSync(a,"",{mode:o.mode})}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}return o},rename:function(r,e,t){var n=NODEFS.realPath(r),o=PATH.join2(NODEFS.realPath(e),t);try{fs.renameSync(n,o)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},unlink:function(r,e){var t=PATH.join2(NODEFS.realPath(r),e);try{fs.unlinkSync(t)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},rmdir:function(r,e){var t=PATH.join2(NODEFS.realPath(r),e);try{fs.rmdirSync(t)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},readdir:function(r){var e=NODEFS.realPath(r);try{return fs.readdirSync(e)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},symlink:function(r,e,t){var n=PATH.join2(NODEFS.realPath(r),e);try{fs.symlinkSync(t,n)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},readlink:function(r){var e=NODEFS.realPath(r);try{return e=fs.readlinkSync(e),e=NODEJS_PATH.relative(NODEJS_PATH.resolve(r.mount.opts.root),e)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}}},stream_ops:{open:function(r){var e=NODEFS.realPath(r.node);try{FS.isFile(r.node.mode)&&(r.nfd=fs.openSync(e,NODEFS.flagsForNode(r.flags)))}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},close:function(r){try{FS.isFile(r.node.mode)&&r.nfd&&fs.closeSync(r.nfd)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},read:function(r,e,t,n,o){if(0===n)return 0;try{return fs.readSync(r.nfd,NODEFS.bufferFrom(e.buffer),t,n,o)}catch(r){throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},write:function(r,e,t,n,o){try{return fs.writeSync(r.nfd,NODEFS.bufferFrom(e.buffer),t,n,o)}catch(r){throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}},llseek:function(r,e,t){var n=e;if(1===t)n+=r.position;else if(2===t&&FS.isFile(r.node.mode))try{var o=fs.fstatSync(r.nfd);n+=o.size}catch(r){throw new FS.ErrnoError(NODEFS.convertNodeCode(r))}if(n<0)throw new FS.ErrnoError(28);return n}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(r){function e(r){for(var e=r.split("/"),t=n,a=0;a<e.length-1;a++){var s=e.slice(0,a+1).join("/");o[s]||(o[s]=WORKERFS.createNode(t,e[a],WORKERFS.DIR_MODE,0)),t=o[s]}return t}function t(r){var e=r.split("/");return e[e.length-1]}assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var n=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),o={};return Array.prototype.forEach.call(r.opts.files||[],function(r){WORKERFS.createNode(e(r.name),t(r.name),WORKERFS.FILE_MODE,0,r,r.lastModifiedDate)}),(r.opts.blobs||[]).forEach(function(r){WORKERFS.createNode(e(r.name),t(r.name),WORKERFS.FILE_MODE,0,r.data)}),(r.opts.packages||[]).forEach(function(r){r.metadata.files.forEach(function(n){var o=n.filename.substr(1);WORKERFS.createNode(e(o),t(o),WORKERFS.FILE_MODE,0,r.blob.slice(n.start,n.end))})}),n},createNode:function(r,e,t,n,o,a){var s=FS.createNode(r,e,t);return s.mode=t,s.node_ops=WORKERFS.node_ops,s.stream_ops=WORKERFS.stream_ops,s.timestamp=(a||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),t===WORKERFS.FILE_MODE?(s.size=o.size,s.contents=o):(s.size=4096,s.contents={}),r&&(r.contents[e]=s),s},node_ops:{getattr:function(r){return{dev:1,ino:void 0,mode:r.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:r.size,atime:new Date(r.timestamp),mtime:new Date(r.timestamp),ctime:new Date(r.timestamp),blksize:4096,blocks:Math.ceil(r.size/4096)}},setattr:function(r,e){void 0!==e.mode&&(r.mode=e.mode),void 0!==e.timestamp&&(r.timestamp=e.timestamp)},lookup:function(r,e){throw new FS.ErrnoError(44)},mknod:function(r,e,t,n){throw new FS.ErrnoError(63)},rename:function(r,e,t){throw new FS.ErrnoError(63)},unlink:function(r,e){throw new FS.ErrnoError(63)},rmdir:function(r,e){throw new FS.ErrnoError(63)},readdir:function(r){var e=[".",".."];for(var t in r.contents)r.contents.hasOwnProperty(t)&&e.push(t);return e},symlink:function(r,e,t){throw new FS.ErrnoError(63)},readlink:function(r){throw new FS.ErrnoError(63)}},stream_ops:{read:function(r,e,t,n,o){if(o>=r.node.size)return 0;var a=r.node.contents.slice(o,o+n),s=WORKERFS.reader.readAsArrayBuffer(a);return e.set(new Uint8Array(s),t),a.size},write:function(r,e,t,n,o){throw new FS.ErrnoError(29)},llseek:function(r,e,t){var n=e;if(1===t?n+=r.position:2===t&&FS.isFile(r.node.mode)&&(n+=r.node.size),n<0)throw new FS.ErrnoError(28);return n}}},FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(r){if(!(r instanceof FS.ErrnoError))throw r+" : "+stackTrace();return ___setErrNo(r.errno)},lookupPath:function(r,e){if(r=PATH_FS.resolve(FS.cwd(),r),e=e||{},!r)return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};for(var n in t)void 0===e[n]&&(e[n]=t[n]);if(e.recurse_count>8)throw new FS.ErrnoError(32);for(var o=PATH.normalizeArray(r.split("/").filter(function(r){return!!r}),!1),a=FS.root,s="/",i=0;i<o.length;i++){var c=i===o.length-1;if(c&&e.parent)break;if(a=FS.lookupNode(a,o[i]),s=PATH.join2(s,o[i]),FS.isMountpoint(a)&&(!c||c&&e.follow_mount)&&(a=a.mounted.root),!c||e.follow)for(var u=0;FS.isLink(a.mode);){var l=FS.readlink(s);s=PATH_FS.resolve(PATH.dirname(s),l);var S=FS.lookupPath(s,{recurse_count:e.recurse_count});if(a=S.node,u++>40)throw new FS.ErrnoError(32)}}return{path:s,node:a}},getPath:function(r){for(var e;;){if(FS.isRoot(r)){var t=r.mount.mountpoint;return e?"/"!==t[t.length-1]?t+"/"+e:t+e:t}e=e?r.name+"/"+e:r.name,r=r.parent}},hashName:function(r,e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return(r+t>>>0)%FS.nameTable.length},hashAddNode:function(r){var e=FS.hashName(r.parent.id,r.name);r.name_next=FS.nameTable[e],FS.nameTable[e]=r},hashRemoveNode:function(r){var e=FS.hashName(r.parent.id,r.name);if(FS.nameTable[e]===r)FS.nameTable[e]=r.name_next;else for(var t=FS.nameTable[e];t;){if(t.name_next===r){t.name_next=r.name_next;break}t=t.name_next}},lookupNode:function(r,e){var t=FS.mayLookup(r);if(t)throw new FS.ErrnoError(t,r);for(var n=FS.hashName(r.id,e),o=FS.nameTable[n];o;o=o.name_next){var a=o.name;if(o.parent.id===r.id&&a===e)return o}return FS.lookup(r,e)},createNode:function(r,e,t,n){if(!FS.FSNode){FS.FSNode=function(r,e,t,n){r||(r=this),this.parent=r,this.mount=r.mount,this.mounted=null,this.id=FS.nextInode++,this.name=e,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},FS.FSNode.prototype={};Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(r){r?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(r){r?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var o=new FS.FSNode(r,e,t,n);return FS.hashAddNode(o),o},destroyNode:function(r){FS.hashRemoveNode(r)},isRoot:function(r){return r===r.parent},isMountpoint:function(r){return!!r.mounted},isFile:function(r){return 32768==(61440&r)},isDir:function(r){return 16384==(61440&r)},isLink:function(r){return 40960==(61440&r)},isChrdev:function(r){return 8192==(61440&r)},isBlkdev:function(r){return 24576==(61440&r)},isFIFO:function(r){return 4096==(61440&r)},isSocket:function(r){return 49152==(49152&r)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(r){var e=FS.flagModes[r];if(void 0===e)throw new Error("Unknown file open mode: "+r);return e},flagsToPermissionString:function(r){var e=["r","w","rw"][3&r];return 512&r&&(e+="w"),e},nodePermissions:function(r,e){return FS.ignorePermissions?0:(-1===e.indexOf("r")||292&r.mode)&&(-1===e.indexOf("w")||146&r.mode)&&(-1===e.indexOf("x")||73&r.mode)?0:2},mayLookup:function(r){var e=FS.nodePermissions(r,"x");return e||(r.node_ops.lookup?0:2)},mayCreate:function(r,e){try{FS.lookupNode(r,e);return 20}catch(r){}return FS.nodePermissions(r,"wx")},mayDelete:function(r,e,t){var n;try{n=FS.lookupNode(r,e)}catch(r){return r.errno}var o=FS.nodePermissions(r,"wx");if(o)return o;if(t){if(!FS.isDir(n.mode))return 54;if(FS.isRoot(n)||FS.getPath(n)===FS.cwd())return 10}else if(FS.isDir(n.mode))return 31;return 0},mayOpen:function(r,e){return r?FS.isLink(r.mode)?32:FS.isDir(r.mode)&&("r"!==FS.flagsToPermissionString(e)||512&e)?31:FS.nodePermissions(r,FS.flagsToPermissionString(e)):44},MAX_OPEN_FDS:4096,nextfd:function(r,e){r=r||0,e=e||FS.MAX_OPEN_FDS;for(var t=r;t<=e;t++)if(!FS.streams[t])return t;throw new FS.ErrnoError(33)},getStream:function(r){return FS.streams[r]},createStream:function(r,e,t){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(r){this.node=r}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var n=new FS.FSStream;for(var o in r)n[o]=r[o];r=n;var a=FS.nextfd(e,t);return r.fd=a,FS.streams[a]=r,r},closeStream:function(r){FS.streams[r]=null},chrdev_stream_ops:{open:function(r){var e=FS.getDevice(r.node.rdev);r.stream_ops=e.stream_ops,r.stream_ops.open&&r.stream_ops.open(r)},llseek:function(){throw new FS.ErrnoError(70)}},major:function(r){return r>>8},minor:function(r){return 255&r},makedev:function(r,e){return r<<8|e},registerDevice:function(r,e){FS.devices[r]={stream_ops:e}},getDevice:function(r){return FS.devices[r]},getMounts:function(r){for(var e=[],t=[r];t.length;){var n=t.pop();e.push(n),t.push.apply(t,n.mounts)}return e},syncfs:function(r,e){function t(r){return FS.syncFSRequests--,e(r)}function n(r){if(r){if(!n.errored)return n.errored=!0,t(r)}else++a>=o.length&&t(null)}"function"==typeof r&&(e=r,r=!1),++FS.syncFSRequests>1&&console.log("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var o=FS.getMounts(FS.root.mount),a=0;o.forEach(function(e){if(!e.type.syncfs)return n(null);e.type.syncfs(e,r,n)})},mount:function(r,e,t){var n,o="/"===t,a=!t;if(o&&FS.root)throw new FS.ErrnoError(10);if(!o&&!a){var s=FS.lookupPath(t,{follow_mount:!1});if(t=s.path,n=s.node,FS.isMountpoint(n))throw new FS.ErrnoError(10);if(!FS.isDir(n.mode))throw new FS.ErrnoError(54)}var i={type:r,opts:e,mountpoint:t,mounts:[]},c=r.mount(i);return c.mount=i,i.root=c,o?FS.root=c:n&&(n.mounted=i,n.mount&&n.mount.mounts.push(i)),c},unmount:function(r){var e=FS.lookupPath(r,{follow_mount:!1});if(!FS.isMountpoint(e.node))throw new FS.ErrnoError(28);var t=e.node,n=t.mounted,o=FS.getMounts(n);Object.keys(FS.nameTable).forEach(function(r){for(var e=FS.nameTable[r];e;){var t=e.name_next;-1!==o.indexOf(e.mount)&&FS.destroyNode(e),e=t}}),t.mounted=null;var a=t.mount.mounts.indexOf(n);t.mount.mounts.splice(a,1)},lookup:function(r,e){return r.node_ops.lookup(r,e)},mknod:function(r,e,t){var n=FS.lookupPath(r,{parent:!0}),o=n.node,a=PATH.basename(r);if(!a||"."===a||".."===a)throw new FS.ErrnoError(28);var s=FS.mayCreate(o,a);if(s)throw new FS.ErrnoError(s);if(!o.node_ops.mknod)throw new FS.ErrnoError(63);return o.node_ops.mknod(o,a,e,t)},create:function(r,e){return e=void 0!==e?e:438,e&=4095,e|=32768,FS.mknod(r,e,0)},mkdir:function(r,e){return e=void 0!==e?e:511,e&=1023,e|=16384,FS.mknod(r,e,0)},mkdirTree:function(r,e){for(var t=r.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{FS.mkdir(n,e)}catch(r){if(20!=r.errno)throw r}}},mkdev:function(r,e,t){return void 0===t&&(t=e,e=438),e|=8192,FS.mknod(r,e,t)},symlink:function(r,e){if(!PATH_FS.resolve(r))throw new FS.ErrnoError(44);var t=FS.lookupPath(e,{parent:!0}),n=t.node;if(!n)throw new FS.ErrnoError(44);var o=PATH.basename(e),a=FS.mayCreate(n,o);if(a)throw new FS.ErrnoError(a);if(!n.node_ops.symlink)throw new FS.ErrnoError(63);return n.node_ops.symlink(n,o,r)},rename:function(r,e){var t,n,o,a=PATH.dirname(r),s=PATH.dirname(e),i=PATH.basename(r),c=PATH.basename(e);try{t=FS.lookupPath(r,{parent:!0}),n=t.node,t=FS.lookupPath(e,{parent:!0}),o=t.node}catch(r){throw new FS.ErrnoError(10)}if(!n||!o)throw new FS.ErrnoError(44);if(n.mount!==o.mount)throw new FS.ErrnoError(75);var u=FS.lookupNode(n,i),l=PATH_FS.relative(r,s);if("."!==l.charAt(0))throw new FS.ErrnoError(28);if(l=PATH_FS.relative(e,a),"."!==l.charAt(0))throw new FS.ErrnoError(55);var S;try{S=FS.lookupNode(o,c)}catch(r){}if(u!==S){var _=FS.isDir(u.mode),d=FS.mayDelete(n,i,_);if(d)throw new FS.ErrnoError(d);if(d=S?FS.mayDelete(o,c,_):FS.mayCreate(o,c))throw new FS.ErrnoError(d);if(!n.node_ops.rename)throw new FS.ErrnoError(63);if(FS.isMountpoint(u)||S&&FS.isMountpoint(S))throw new FS.ErrnoError(10);if(o!==n&&(d=FS.nodePermissions(n,"w")))throw new FS.ErrnoError(d);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(r,e)}catch(t){console.log("FS.trackingDelegate['willMovePath']('"+r+"', '"+e+"') threw an exception: "+t.message)}FS.hashRemoveNode(u);try{n.node_ops.rename(u,o,c)}catch(r){throw r}finally{FS.hashAddNode(u)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(r,e)}catch(t){console.log("FS.trackingDelegate['onMovePath']('"+r+"', '"+e+"') threw an exception: "+t.message)}}},rmdir:function(r){var e=FS.lookupPath(r,{parent:!0}),t=e.node,n=PATH.basename(r),o=FS.lookupNode(t,n),a=FS.mayDelete(t,n,!0);if(a)throw new FS.ErrnoError(a);if(!t.node_ops.rmdir)throw new FS.ErrnoError(63);if(FS.isMountpoint(o))throw new FS.ErrnoError(10);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(r)}catch(e){console.log("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}t.node_ops.rmdir(t,n),FS.destroyNode(o);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(r)}catch(e){console.log("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readdir:function(r){var e=FS.lookupPath(r,{follow:!0}),t=e.node;if(!t.node_ops.readdir)throw new FS.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(r){var e=FS.lookupPath(r,{parent:!0}),t=e.node,n=PATH.basename(r),o=FS.lookupNode(t,n),a=FS.mayDelete(t,n,!1);if(a)throw new FS.ErrnoError(a);if(!t.node_ops.unlink)throw new FS.ErrnoError(63);if(FS.isMountpoint(o))throw new FS.ErrnoError(10);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(r)}catch(e){console.log("FS.trackingDelegate['willDeletePath']('"+r+"') threw an exception: "+e.message)}t.node_ops.unlink(t,n),FS.destroyNode(o);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(r)}catch(e){console.log("FS.trackingDelegate['onDeletePath']('"+r+"') threw an exception: "+e.message)}},readlink:function(r){var e=FS.lookupPath(r),t=e.node;if(!t)throw new FS.ErrnoError(44);if(!t.node_ops.readlink)throw new FS.ErrnoError(28);return PATH_FS.resolve(FS.getPath(t.parent),t.node_ops.readlink(t))},stat:function(r,e){var t=FS.lookupPath(r,{follow:!e}),n=t.node;if(!n)throw new FS.ErrnoError(44);if(!n.node_ops.getattr)throw new FS.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(r){return FS.stat(r,!0)},chmod:function(r,e,t){var n;if("string"==typeof r){n=FS.lookupPath(r,{follow:!t}).node}else n=r;if(!n.node_ops.setattr)throw new FS.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&e|-4096&n.mode,timestamp:Date.now()})},lchmod:function(r,e){FS.chmod(r,e,!0)},fchmod:function(r,e){var t=FS.getStream(r);if(!t)throw new FS.ErrnoError(8);FS.chmod(t.node,e)},chown:function(r,e,t,n){var o;if("string"==typeof r){o=FS.lookupPath(r,{follow:!n}).node}else o=r;if(!o.node_ops.setattr)throw new FS.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(r,e,t){FS.chown(r,e,t,!0)},fchown:function(r,e,t){var n=FS.getStream(r);if(!n)throw new FS.ErrnoError(8);FS.chown(n.node,e,t)},truncate:function(r,e){if(e<0)throw new FS.ErrnoError(28);var t;if("string"==typeof r){t=FS.lookupPath(r,{follow:!0}).node}else t=r;if(!t.node_ops.setattr)throw new FS.ErrnoError(63);if(FS.isDir(t.mode))throw new FS.ErrnoError(31);if(!FS.isFile(t.mode))throw new FS.ErrnoError(28);var n=FS.nodePermissions(t,"w");if(n)throw new FS.ErrnoError(n);t.node_ops.setattr(t,{size:e,timestamp:Date.now()})},ftruncate:function(r,e){var t=FS.getStream(r);if(!t)throw new FS.ErrnoError(8);if(0==(2097155&t.flags))throw new FS.ErrnoError(28);FS.truncate(t.node,e)},utime:function(r,e,t){var n=FS.lookupPath(r,{follow:!0}),o=n.node;o.node_ops.setattr(o,{timestamp:Math.max(e,t)})},open:function(r,e,t,n,o){if(""===r)throw new FS.ErrnoError(44);e="string"==typeof e?FS.modeStringToFlags(e):e,t=void 0===t?438:t,t=64&e?4095&t|32768:0;var a;if("object"==typeof r)a=r;else{r=PATH.normalize(r);try{a=FS.lookupPath(r,{follow:!(131072&e)}).node}catch(r){}}var s=!1;if(64&e)if(a){if(128&e)throw new FS.ErrnoError(20)}else a=FS.mknod(r,t,0),s=!0;if(!a)throw new FS.ErrnoError(44);if(FS.isChrdev(a.mode)&&(e&=-513),65536&e&&!FS.isDir(a.mode))throw new FS.ErrnoError(54);if(!s){var i=FS.mayOpen(a,e);if(i)throw new FS.ErrnoError(i)}512&e&&FS.truncate(a,0),e&=-641;var c=FS.createStream({node:a,path:FS.getPath(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);c.stream_ops.open&&c.stream_ops.open(c),!Module.logReadFiles||1&e||(FS.readFiles||(FS.readFiles={}),r in FS.readFiles||(FS.readFiles[r]=1,console.log("FS.trackingDelegate error on read file: "+r)));try{if(FS.trackingDelegate.onOpenFile){var u=0;1!=(2097155&e)&&(u|=FS.tracking.openFlags.READ),0!=(2097155&e)&&(u|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(r,u)}}catch(e){console.log("FS.trackingDelegate['onOpenFile']('"+r+"', flags) threw an exception: "+e.message)}return c},close:function(r){if(FS.isClosed(r))throw new FS.ErrnoError(8);r.getdents&&(r.getdents=null);try{r.stream_ops.close&&r.stream_ops.close(r)}catch(r){throw r}finally{FS.closeStream(r.fd)}r.fd=null},isClosed:function(r){return null===r.fd},llseek:function(r,e,t){if(FS.isClosed(r))throw new FS.ErrnoError(8);if(!r.seekable||!r.stream_ops.llseek)throw new FS.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new FS.ErrnoError(28);return r.position=r.stream_ops.llseek(r,e,t),r.ungotten=[],r.position},read:function(r,e,t,n,o){if(n<0||o<0)throw new FS.ErrnoError(28);if(FS.isClosed(r))throw new FS.ErrnoError(8);if(1==(2097155&r.flags))throw new FS.ErrnoError(8);if(FS.isDir(r.node.mode))throw new FS.ErrnoError(31);if(!r.stream_ops.read)throw new FS.ErrnoError(28);var a=void 0!==o;if(a){if(!r.seekable)throw new FS.ErrnoError(70)}else o=r.position;var s=r.stream_ops.read(r,e,t,n,o);return a||(r.position+=s),s},write:function(r,e,t,n,o,a){if(n<0||o<0)throw new FS.ErrnoError(28);if(FS.isClosed(r))throw new FS.ErrnoError(8);if(0==(2097155&r.flags))throw new FS.ErrnoError(8);if(FS.isDir(r.node.mode))throw new FS.ErrnoError(31);if(!r.stream_ops.write)throw new FS.ErrnoError(28);1024&r.flags&&FS.llseek(r,0,2);var s=void 0!==o;if(s){if(!r.seekable)throw new FS.ErrnoError(70)}else o=r.position;var i=r.stream_ops.write(r,e,t,n,o,a);s||(r.position+=i);try{r.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(r.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+r.path+"') threw an exception: "+e.message)}return i},allocate:function(r,e,t){if(FS.isClosed(r))throw new FS.ErrnoError(8);if(e<0||t<=0)throw new FS.ErrnoError(28);if(0==(2097155&r.flags))throw new FS.ErrnoError(8);if(!FS.isFile(r.node.mode)&&!FS.isDir(r.node.mode))throw new FS.ErrnoError(43);if(!r.stream_ops.allocate)throw new FS.ErrnoError(138);r.stream_ops.allocate(r,e,t)},mmap:function(r,e,t,n,o,a,s){if(0!=(2&a)&&0==(2&s)&&2!=(2097155&r.flags))throw new FS.ErrnoError(2);if(1==(2097155&r.flags))throw new FS.ErrnoError(2);if(!r.stream_ops.mmap)throw new FS.ErrnoError(43);return r.stream_ops.mmap(r,e,t,n,o,a,s)},msync:function(r,e,t,n,o){return r&&r.stream_ops.msync?r.stream_ops.msync(r,e,t,n,o):0},munmap:function(r){return 0},ioctl:function(r,e,t){if(!r.stream_ops.ioctl)throw new FS.ErrnoError(59);return r.stream_ops.ioctl(r,e,t)},readFile:function(r,e){if(e=e||{},e.flags=e.flags||"r",e.encoding=e.encoding||"binary","utf8"!==e.encoding&&"binary"!==e.encoding)throw new Error('Invalid encoding type "'+e.encoding+'"');var t,n=FS.open(r,e.flags),o=FS.stat(r),a=o.size,s=new Uint8Array(a);return FS.read(n,s,0,a,0),"utf8"===e.encoding?t=UTF8ArrayToString(s,0):"binary"===e.encoding&&(t=s),FS.close(n),t},writeFile:function(r,e,t){t=t||{},t.flags=t.flags||"w";var n=FS.open(r,t.flags,t.mode);if("string"==typeof e){var o=new Uint8Array(lengthBytesUTF8(e)+1),a=stringToUTF8Array(e,o,0,o.length);FS.write(n,o,0,a,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(e))throw new Error("Unsupported data type")
;FS.write(n,e,0,e.byteLength,void 0,t.canOwn)}FS.close(n)},cwd:function(){return FS.currentPath},chdir:function(r){var e=FS.lookupPath(r,{follow:!0});if(null===e.node)throw new FS.ErrnoError(44);if(!FS.isDir(e.node.mode))throw new FS.ErrnoError(54);var t=FS.nodePermissions(e.node,"x");if(t)throw new FS.ErrnoError(t);FS.currentPath=e.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(r,e,t,n,o){return n}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var r;if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);r=function(){return crypto.getRandomValues(e),e[0]}}else if(ENVIRONMENT_IS_NODE)try{var t=require("crypto");r=function(){return t.randomBytes(1)[0]}}catch(r){}r||(r=function(){abort("random_device")}),FS.createDevice("/dev","random",r),FS.createDevice("/dev","urandom",r),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var r=FS.createNode("/proc/self","fd",16895,73);return r.node_ops={lookup:function(r,e){var t=+e,n=FS.getStream(t);if(!n)throw new FS.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return o.parent=o,o}},r}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");FS.open("/dev/stdin","r"),FS.open("/dev/stdout","w"),FS.open("/dev/stderr","w")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(r,e){this.node=e,this.setErrno=function(r){this.errno=r},this.setErrno(r),this.message="FS error"},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[44].forEach(function(r){FS.genericErrors[r]=new FS.ErrnoError(r),FS.genericErrors[r].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(r,e,t){FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=r||Module.stdin,Module.stdout=e||Module.stdout,Module.stderr=t||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var r=Module._fflush;r&&r(0);for(var e=0;e<FS.streams.length;e++){var t=FS.streams[e];t&&FS.close(t)}},getMode:function(r,e){var t=0;return r&&(t|=365),e&&(t|=146),t},joinPath:function(r,e){var t=PATH.join.apply(null,r);return e&&"/"==t[0]&&(t=t.substr(1)),t},absolutePath:function(r,e){return PATH_FS.resolve(e,r)},standardizePath:function(r){return PATH.normalize(r)},findObject:function(r,e){var t=FS.analyzePath(r,e);return t.exists?t.object:(___setErrNo(t.error),null)},analyzePath:function(r,e){try{var t=FS.lookupPath(r,{follow:!e});r=t.path}catch(r){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=FS.lookupPath(r,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=PATH.basename(r),t=FS.lookupPath(r,{follow:!e}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot="/"===t.path}catch(r){n.error=r.errno}return n},createFolder:function(r,e,t,n){var o=PATH.join2("string"==typeof r?r:FS.getPath(r),e),a=FS.getMode(t,n);return FS.mkdir(o,a)},createPath:function(r,e,t,n){r="string"==typeof r?r:FS.getPath(r);for(var o=e.split("/").reverse();o.length;){var a=o.pop();if(a){var s=PATH.join2(r,a);try{FS.mkdir(s)}catch(r){}r=s}}return s},createFile:function(r,e,t,n,o){var a=PATH.join2("string"==typeof r?r:FS.getPath(r),e),s=FS.getMode(n,o);return FS.create(a,s)},createDataFile:function(r,e,t,n,o,a){var s=e?PATH.join2("string"==typeof r?r:FS.getPath(r),e):r,i=FS.getMode(n,o),c=FS.create(s,i);if(t){if("string"==typeof t){for(var u=new Array(t.length),l=0,S=t.length;l<S;++l)u[l]=t.charCodeAt(l);t=u}FS.chmod(c,146|i);var _=FS.open(c,"w");FS.write(_,t,0,t.length,0,a),FS.close(_),FS.chmod(c,i)}return c},createDevice:function(r,e,t,n){var o=PATH.join2("string"==typeof r?r:FS.getPath(r),e),a=FS.getMode(!!t,!!n);FS.createDevice.major||(FS.createDevice.major=64);var s=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(s,{open:function(r){r.seekable=!1},close:function(r){n&&n.buffer&&n.buffer.length&&n(10)},read:function(r,e,n,o,a){for(var s=0,i=0;i<o;i++){var c;try{c=t()}catch(r){throw new FS.ErrnoError(29)}if(void 0===c&&0===s)throw new FS.ErrnoError(6);if(null===c||void 0===c)break;s++,e[n+i]=c}return s&&(r.node.timestamp=Date.now()),s},write:function(r,e,t,o,a){for(var s=0;s<o;s++)try{n(e[t+s])}catch(r){throw new FS.ErrnoError(29)}return o&&(r.node.timestamp=Date.now()),s}}),FS.mkdev(o,a,s)},createLink:function(r,e,t,n,o){var a=PATH.join2("string"==typeof r?r:FS.getPath(r),e);return FS.symlink(t,a)},forceLoadFile:function(r){if(r.isDevice||r.isFolder||r.link||r.contents)return!0;var e=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!read_)throw new Error("Cannot load without read() or XMLHttpRequest.");try{r.contents=intArrayFromString(read_(r.url),!0),r.usedBytes=r.contents.length}catch(r){e=!1}return e||___setErrNo(29),e},createLazyFile:function(r,e,t,n,o){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(r){if(!(r>this.length-1||r<0)){var e=r%this.chunkSize,t=r/this.chunkSize|0;return this.getter(t)[e]}},a.prototype.setDataGetter=function(r){this.getter=r},a.prototype.cacheLength=function(){var r=new XMLHttpRequest;if(r.open("HEAD",t,!1),r.send(null),!(r.status>=200&&r.status<300||304===r.status))throw new Error("Couldn't load "+t+". Status: "+r.status);var e,n=Number(r.getResponseHeader("Content-length")),o=(e=r.getResponseHeader("Accept-Ranges"))&&"bytes"===e,a=(e=r.getResponseHeader("Content-Encoding"))&&"gzip"===e,s=1048576;o||(s=n);var i=function(r,e){if(r>e)throw new Error("invalid range ("+r+", "+e+") or no bytes requested!");if(e>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",t,!1),n!==s&&o.setRequestHeader("Range","bytes="+r+"-"+e),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+t+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):intArrayFromString(o.responseText||"",!0)},c=this;c.setDataGetter(function(r){var e=r*s,t=(r+1)*s-1;if(t=Math.min(t,n-1),void 0===c.chunks[r]&&(c.chunks[r]=i(e,t)),void 0===c.chunks[r])throw new Error("doXHR failed!");return c.chunks[r]}),!a&&n||(s=n=1,n=this.getter(0).length,s=n,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=s,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new a;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var i={isDevice:!1,contents:s}}else var i={isDevice:!1,url:t};var c=FS.createFile(r,e,i,n,o);i.contents?c.contents=i.contents:i.url&&(c.contents=null,c.url=i.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var u={};return Object.keys(c.stream_ops).forEach(function(r){var e=c.stream_ops[r];u[r]=function(){if(!FS.forceLoadFile(c))throw new FS.ErrnoError(29);return e.apply(null,arguments)}}),u.read=function(r,e,t,n,o){if(!FS.forceLoadFile(c))throw new FS.ErrnoError(29);var a=r.node.contents;if(o>=a.length)return 0;var s=Math.min(a.length-o,n);if(a.slice)for(var i=0;i<s;i++)e[t+i]=a[o+i];else for(var i=0;i<s;i++)e[t+i]=a.get(o+i);return s},c.stream_ops=u,c},createPreloadedFile:function(r,e,t,n,o,a,s,i,c,u){function l(t){function l(t){u&&u(),i||FS.createDataFile(r,e,t,n,o,c),a&&a(),removeRunDependency(_)}var d=!1;Module.preloadPlugins.forEach(function(r){d||r.canHandle(S)&&(r.handle(t,S,l,function(){s&&s(),removeRunDependency(_)}),d=!0)}),d||l(t)}Browser.init();var S=e?PATH_FS.resolve(PATH.join2(r,e)):r,_=getUniqueRunDependency("cp "+S);addRunDependency(_),"string"==typeof t?Browser.asyncLoad(t,function(r){l(r)},s):l(t)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(r,e,t){e=e||function(){},t=t||function(){};var n=FS.indexedDB();try{var o=n.open(FS.DB_NAME(),FS.DB_VERSION)}catch(r){return t(r)}o.onupgradeneeded=function(){console.log("creating db"),o.result.createObjectStore(FS.DB_STORE_NAME)},o.onsuccess=function(){function n(){0==u?e():t()}var a=o.result,s=a.transaction([FS.DB_STORE_NAME],"readwrite"),i=s.objectStore(FS.DB_STORE_NAME),c=0,u=0,l=r.length;r.forEach(function(r){var e=i.put(FS.analyzePath(r).object.contents,r);e.onsuccess=function(){++c+u==l&&n()},e.onerror=function(){u++,c+u==l&&n()}}),s.onerror=t},o.onerror=t},loadFilesFromDB:function(r,e,t){e=e||function(){},t=t||function(){};var n=FS.indexedDB();try{var o=n.open(FS.DB_NAME(),FS.DB_VERSION)}catch(r){return t(r)}o.onupgradeneeded=t,o.onsuccess=function(){function n(){0==u?e():t()}var a=o.result;try{var s=a.transaction([FS.DB_STORE_NAME],"readonly")}catch(r){return void t(r)}var i=s.objectStore(FS.DB_STORE_NAME),c=0,u=0,l=r.length;r.forEach(function(r){var e=i.get(r);e.onsuccess=function(){FS.analyzePath(r).exists&&FS.unlink(r),FS.createDataFile(PATH.dirname(r),PATH.basename(r),e.result,!0,!0,!0),++c+u==l&&n()},e.onerror=function(){u++,c+u==l&&n()}}),s.onerror=t},o.onerror=t}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(r,e){if("/"!==e[0]){var t;if(-100===r)t=FS.cwd();else{var n=FS.getStream(r);if(!n)throw new FS.ErrnoError(8);t=n.path}e=PATH.join2(t,e)}return e},doStat:function(r,e,t){try{var n=r(e)}catch(r){if(r&&r.node&&PATH.normalize(e)!==PATH.normalize(FS.getPath(r.node)))return-54;throw r}return HEAP32[t>>2]=n.dev,HEAP32[t+4>>2]=0,HEAP32[t+8>>2]=n.ino,HEAP32[t+12>>2]=n.mode,HEAP32[t+16>>2]=n.nlink,HEAP32[t+20>>2]=n.uid,HEAP32[t+24>>2]=n.gid,HEAP32[t+28>>2]=n.rdev,HEAP32[t+32>>2]=0,tempI64=[n.size>>>0,(tempDouble=n.size,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t+40>>2]=tempI64[0],HEAP32[t+44>>2]=tempI64[1],HEAP32[t+48>>2]=4096,HEAP32[t+52>>2]=n.blocks,HEAP32[t+56>>2]=n.atime.getTime()/1e3|0,HEAP32[t+60>>2]=0,HEAP32[t+64>>2]=n.mtime.getTime()/1e3|0,HEAP32[t+68>>2]=0,HEAP32[t+72>>2]=n.ctime.getTime()/1e3|0,HEAP32[t+76>>2]=0,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t+80>>2]=tempI64[0],HEAP32[t+84>>2]=tempI64[1],0},doMsync:function(r,e,t,n){var o=new Uint8Array(HEAPU8.subarray(r,r+t));FS.msync(e,o,0,t,n)},doMkdir:function(r,e){return r=PATH.normalize(r),"/"===r[r.length-1]&&(r=r.substr(0,r.length-1)),FS.mkdir(r,e,0),0},doMknod:function(r,e,t){switch(61440&e){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return FS.mknod(r,e,t),0},doReadlink:function(r,e,t){if(t<=0)return-28;var n=FS.readlink(r),o=Math.min(t,lengthBytesUTF8(n)),a=HEAP8[e+o];return stringToUTF8(n,e,t+1),HEAP8[e+o]=a,o},doAccess:function(r,e){if(-8&e)return-28;var t;if(!(t=FS.lookupPath(r,{follow:!0}).node))return-44;var n="";return 4&e&&(n+="r"),2&e&&(n+="w"),1&e&&(n+="x"),n&&FS.nodePermissions(t,n)?-2:0},doDup:function(r,e,t){var n=FS.getStream(t);return n&&FS.close(n),FS.open(r,e,0,t,t).fd},doReadv:function(r,e,t,n){for(var o=0,a=0;a<t;a++){var s=HEAP32[e+8*a>>2],i=HEAP32[e+(8*a+4)>>2],c=FS.read(r,HEAP8,s,i,n);if(c<0)return-1;if(o+=c,c<i)break}return o},doWritev:function(r,e,t,n){for(var o=0,a=0;a<t;a++){var s=HEAP32[e+8*a>>2],i=HEAP32[e+(8*a+4)>>2],c=FS.write(r,HEAP8,s,i,n);if(c<0)return-1;o+=c}return o},varargs:0,get:function(r){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return UTF8ToString(SYSCALLS.get())},getStreamFromFD:function(r){r||(r=SYSCALLS.get());var e=FS.getStream(r);if(!e)throw new FS.ErrnoError(8);return e},get64:function(){var r=SYSCALLS.get();SYSCALLS.get();return r},getZero:function(){SYSCALLS.get()}},SOCKFS={mount:function(r){return Module.websocket=Module.websocket&&"object"==typeof Module.websocket?Module.websocket:{},Module.websocket._callbacks={},Module.websocket.on=function(r,e){return"function"==typeof e&&(this._callbacks[r]=e),this},Module.websocket.emit=function(r,e){"function"==typeof this._callbacks[r]&&this._callbacks[r].call(this,e)},FS.createNode(null,"/",16895,0)},createSocket:function(r,e,t){var n=1==e;t&&assert(n==(6==t));var o={family:r,type:e,protocol:t,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:SOCKFS.websocket_sock_ops},a=SOCKFS.nextname(),s=FS.createNode(SOCKFS.root,a,49152,0);s.sock=o;var i=FS.createStream({path:a,node:s,flags:FS.modeStringToFlags("r+"),seekable:!1,stream_ops:SOCKFS.stream_ops});return o.stream=i,o},getSocket:function(r){var e=FS.getStream(r);return e&&FS.isSocket(e.node.mode)?e.node.sock:null},stream_ops:{poll:function(r){var e=r.node.sock;return e.sock_ops.poll(e)},ioctl:function(r,e,t){var n=r.node.sock;return n.sock_ops.ioctl(n,e,t)},read:function(r,e,t,n,o){var a=r.node.sock,s=a.sock_ops.recvmsg(a,n);return s?(e.set(s.buffer,t),s.buffer.length):0},write:function(r,e,t,n,o){var a=r.node.sock;return a.sock_ops.sendmsg(a,e,t,n)},close:function(r){var e=r.node.sock;e.sock_ops.close(e)}},nextname:function(){return SOCKFS.nextname.current||(SOCKFS.nextname.current=0),"socket["+SOCKFS.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(r,e,t){var n;if("object"==typeof e&&(n=e,e=null,t=null),n)if(n._socket)e=n._socket.remoteAddress,t=n._socket.remotePort;else{var o=/ws[s]?:\/\/([^:]+):(\d+)/.exec(n.url);if(!o)throw new Error("WebSocket URL must be in the format ws(s)://address:port");e=o[1],t=parseInt(o[2],10)}else try{var a=Module.websocket&&"object"==typeof Module.websocket,s="ws:#".replace("#","//");if(a&&"string"==typeof Module.websocket.url&&(s=Module.websocket.url),"ws://"===s||"wss://"===s){var i=e.split("/");s=s+i[0]+":"+t+"/"+i.slice(1).join("/")}var c="binary";a&&"string"==typeof Module.websocket.subprotocol&&(c=Module.websocket.subprotocol);var u=void 0;"null"!==c&&(c=c.replace(/^ +| +$/g,"").split(/ *, */),u=ENVIRONMENT_IS_NODE?{protocol:c.toString()}:c),a&&null===Module.websocket.subprotocol&&(c="null",u=void 0);var l;l=ENVIRONMENT_IS_NODE?require("ws"):ENVIRONMENT_IS_WEB?window.WebSocket:WebSocket,n=new l(s,u),n.binaryType="arraybuffer"}catch(r){throw new FS.ErrnoError(ERRNO_CODES.EHOSTUNREACH)}var S={addr:e,port:t,socket:n,dgram_send_queue:[]};return SOCKFS.websocket_sock_ops.addPeer(r,S),SOCKFS.websocket_sock_ops.handlePeerEvents(r,S),2===r.type&&void 0!==r.sport&&S.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(65280&r.sport)>>8,255&r.sport])),S},getPeer:function(r,e,t){return r.peers[e+":"+t]},addPeer:function(r,e){r.peers[e.addr+":"+e.port]=e},removePeer:function(r,e){delete r.peers[e.addr+":"+e.port]},handlePeerEvents:function(r,e){function t(t){if("string"==typeof t){t=(new TextEncoder).encode(t)}else{if(assert(void 0!==t.byteLength),0==t.byteLength)return;t=new Uint8Array(t)}var o=n;if(n=!1,o&&10===t.length&&255===t[0]&&255===t[1]&&255===t[2]&&255===t[3]&&t[4]==="p".charCodeAt(0)&&t[5]==="o".charCodeAt(0)&&t[6]==="r".charCodeAt(0)&&t[7]==="t".charCodeAt(0)){var a=t[8]<<8|t[9];return SOCKFS.websocket_sock_ops.removePeer(r,e),e.port=a,void SOCKFS.websocket_sock_ops.addPeer(r,e)}r.recv_queue.push({addr:e.addr,port:e.port,data:t}),Module.websocket.emit("message",r.stream.fd)}var n=!0,o=function(){Module.websocket.emit("open",r.stream.fd);try{for(var t=e.dgram_send_queue.shift();t;)e.socket.send(t),t=e.dgram_send_queue.shift()}catch(r){e.socket.close()}};ENVIRONMENT_IS_NODE?(e.socket.on("open",o),e.socket.on("message",function(r,e){e.binary&&t(new Uint8Array(r).buffer)}),e.socket.on("close",function(){Module.websocket.emit("close",r.stream.fd)}),e.socket.on("error",function(e){r.error=ERRNO_CODES.ECONNREFUSED,Module.websocket.emit("error",[r.stream.fd,r.error,"ECONNREFUSED: Connection refused"])})):(e.socket.onopen=o,e.socket.onclose=function(){Module.websocket.emit("close",r.stream.fd)},e.socket.onmessage=function(r){t(r.data)},e.socket.onerror=function(e){r.error=ERRNO_CODES.ECONNREFUSED,Module.websocket.emit("error",[r.stream.fd,r.error,"ECONNREFUSED: Connection refused"])})},poll:function(r){if(1===r.type&&r.server)return r.pending.length?65:0;var e=0,t=1===r.type?SOCKFS.websocket_sock_ops.getPeer(r,r.daddr,r.dport):null;return(r.recv_queue.length||!t||t&&t.socket.readyState===t.socket.CLOSING||t&&t.socket.readyState===t.socket.CLOSED)&&(e|=65),(!t||t&&t.socket.readyState===t.socket.OPEN)&&(e|=4),(t&&t.socket.readyState===t.socket.CLOSING||t&&t.socket.readyState===t.socket.CLOSED)&&(e|=16),e},ioctl:function(r,e,t){switch(e){case 21531:var n=0;return r.recv_queue.length&&(n=r.recv_queue[0].data.length),HEAP32[t>>2]=n,0;default:return ERRNO_CODES.EINVAL}},close:function(r){if(r.server){try{r.server.close()}catch(r){}r.server=null}for(var e=Object.keys(r.peers),t=0;t<e.length;t++){var n=r.peers[e[t]];try{n.socket.close()}catch(r){}SOCKFS.websocket_sock_ops.removePeer(r,n)}return 0},bind:function(r,e,t){if(void 0!==r.saddr||void 0!==r.sport)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(r.saddr=e,r.sport=t,2===r.type){r.server&&(r.server.close(),r.server=null);try{r.sock_ops.listen(r,0)}catch(r){if(!(r instanceof FS.ErrnoError))throw r;if(r.errno!==ERRNO_CODES.EOPNOTSUPP)throw r}}},connect:function(r,e,t){if(r.server)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);if(void 0!==r.daddr&&void 0!==r.dport){var n=SOCKFS.websocket_sock_ops.getPeer(r,r.daddr,r.dport);if(n)throw n.socket.readyState===n.socket.CONNECTING?new FS.ErrnoError(ERRNO_CODES.EALREADY):new FS.ErrnoError(ERRNO_CODES.EISCONN)}var o=SOCKFS.websocket_sock_ops.createPeer(r,e,t);throw r.daddr=o.addr,r.dport=o.port,new FS.ErrnoError(ERRNO_CODES.EINPROGRESS)},listen:function(r,e){if(!ENVIRONMENT_IS_NODE)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);if(r.server)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var t=require("ws").Server,n=r.saddr;r.server=new t({host:n,port:r.sport}),Module.websocket.emit("listen",r.stream.fd),r.server.on("connection",function(e){if(1===r.type){var t=SOCKFS.createSocket(r.family,r.type,r.protocol),n=SOCKFS.websocket_sock_ops.createPeer(t,e);t.daddr=n.addr,t.dport=n.port,r.pending.push(t),Module.websocket.emit("connection",t.stream.fd)}else SOCKFS.websocket_sock_ops.createPeer(r,e),Module.websocket.emit("connection",r.stream.fd)}),r.server.on("closed",function(){Module.websocket.emit("close",r.stream.fd),r.server=null}),r.server.on("error",function(e){r.error=ERRNO_CODES.EHOSTUNREACH,Module.websocket.emit("error",[r.stream.fd,r.error,"EHOSTUNREACH: Host is unreachable"])})},accept:function(r){if(!r.server)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var e=r.pending.shift();return e.stream.flags=r.stream.flags,e},getname:function(r,e){var t,n;if(e){if(void 0===r.daddr||void 0===r.dport)throw new FS.ErrnoError(ERRNO_CODES.ENOTCONN);t=r.daddr,n=r.dport}else t=r.saddr||0,n=r.sport||0;return{addr:t,port:n}},sendmsg:function(r,e,t,n,o,a){if(2===r.type){if(void 0!==o&&void 0!==a||(o=r.daddr,a=r.dport),void 0===o||void 0===a)throw new FS.ErrnoError(ERRNO_CODES.EDESTADDRREQ)}else o=r.daddr,a=r.dport;var s=SOCKFS.websocket_sock_ops.getPeer(r,o,a);if(1===r.type){if(!s||s.socket.readyState===s.socket.CLOSING||s.socket.readyState===s.socket.CLOSED)throw new FS.ErrnoError(ERRNO_CODES.ENOTCONN);if(s.socket.readyState===s.socket.CONNECTING)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}ArrayBuffer.isView(e)&&(t+=e.byteOffset,e=e.buffer);var i;if(i=e.slice(t,t+n),2===r.type&&(!s||s.socket.readyState!==s.socket.OPEN))return s&&s.socket.readyState!==s.socket.CLOSING&&s.socket.readyState!==s.socket.CLOSED||(s=SOCKFS.websocket_sock_ops.createPeer(r,o,a)),s.dgram_send_queue.push(i),n;try{return s.socket.send(i),n}catch(r){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}},recvmsg:function(r,e){if(1===r.type&&r.server)throw new FS.ErrnoError(ERRNO_CODES.ENOTCONN);var t=r.recv_queue.shift();if(!t){if(1===r.type){var n=SOCKFS.websocket_sock_ops.getPeer(r,r.daddr,r.dport);if(n){if(n.socket.readyState===n.socket.CLOSING||n.socket.readyState===n.socket.CLOSED)return null;throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}throw new FS.ErrnoError(ERRNO_CODES.ENOTCONN)}throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}var o=t.data.byteLength||t.data.length,a=t.data.byteOffset||0,s=t.data.buffer||t.data,i=Math.min(e,o),c={buffer:new Uint8Array(s,a,i),addr:t.addr,port:t.port};if(1===r.type&&i<o){var u=o-i;t.data=new Uint8Array(s,a+i,u),r.recv_queue.unshift(t)}return c}}},DNS={address_map:{id:1,addrs:{},names:{}},lookup_name:function(r){var e=__inet_pton4_raw(r);if(null!==e)return r;if(null!==(e=__inet_pton6_raw(r)))return r;var t;if(DNS.address_map.addrs[r])t=DNS.address_map.addrs[r];else{var n=DNS.address_map.id++;assert(n<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&n)+"."+(65280&n),DNS.address_map.names[t]=r,DNS.address_map.addrs[r]=t}return t},lookup_addr:function(r){return DNS.address_map.names[r]?DNS.address_map.names[r]:null}},Sockets={BUFFER_SIZE:10240,MAX_BUFFER_SIZE:10485760,nextFd:1,fds:{},nextport:1,maxport:65535,peer:null,connections:{},portmap:{},localAddr:4261412874,addrPool:[33554442,50331658,67108874,83886090,100663306,117440522,134217738,150994954,167772170,184549386,201326602,218103818,234881034]},PROCINFO={ppid:1,pid:42,sid:42,pgid:42},PIPEFS={BUCKET_BUFFER_SIZE:8192,mount:function(r){return FS.createNode(null,"/",16895,0)},createPipe:function(){var r={buckets:[]};r.buckets.push({buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:0,roffset:0});var e=PIPEFS.nextname(),t=PIPEFS.nextname(),n=FS.createNode(PIPEFS.root,e,4096,0),o=FS.createNode(PIPEFS.root,t,4096,0);n.pipe=r,o.pipe=r;var a=FS.createStream({path:e,node:n,flags:FS.modeStringToFlags("r"),seekable:!1,stream_ops:PIPEFS.stream_ops});n.stream=a;var s=FS.createStream({path:t,node:o,flags:FS.modeStringToFlags("w"),seekable:!1,stream_ops:PIPEFS.stream_ops});return o.stream=s,{readable_fd:a.fd,writable_fd:s.fd}},stream_ops:{poll:function(r){var e=r.node.pipe;if(1==(2097155&r.flags))return 260;if(e.buckets.length>0)for(var t=0;t<e.buckets.length;t++){var n=e.buckets[t];if(n.offset-n.roffset>0)return 65}return 0},ioctl:function(r,e,t){return ERRNO_CODES.EINVAL},fsync:function(r){return ERRNO_CODES.EINVAL},read:function(r,e,t,n,o){for(var a=r.node.pipe,s=0,i=0;i<a.buckets.length;i++){var c=a.buckets[i];s+=c.offset-c.roffset}assert(e instanceof ArrayBuffer||ArrayBuffer.isView(e));var u=e.subarray(t,t+n);if(n<=0)return 0;if(0==s)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);for(var l=Math.min(s,n),S=l,_=0,i=0;i<a.buckets.length;i++){var d=a.buckets[i],f=d.offset-d.roffset;if(l<=f){var E=d.buffer.subarray(d.roffset,d.offset);l<f?(E=E.subarray(0,l),d.roffset+=l):_++,u.set(E);break}var E=d.buffer.subarray(d.roffset,d.offset);u.set(E),u=u.subarray(E.byteLength),l-=E.byteLength,_++}return _&&_==a.buckets.length&&(_--,a.buckets[_].offset=0,a.buckets[_].roffset=0),a.buckets.splice(0,_),S},write:function(r,e,t,n,o){var a=r.node.pipe;assert(e instanceof ArrayBuffer||ArrayBuffer.isView(e));var s=e.subarray(t,t+n),i=s.byteLength;if(i<=0)return 0;var c=null;0==a.buckets.length?(c={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:0,roffset:0},a.buckets.push(c)):c=a.buckets[a.buckets.length-1],assert(c.offset<=PIPEFS.BUCKET_BUFFER_SIZE);var u=PIPEFS.BUCKET_BUFFER_SIZE-c.offset;if(u>=i)return c.buffer.set(s,c.offset),c.offset+=i,i;u>0&&(c.buffer.set(s.subarray(0,u),c.offset),c.offset+=u,s=s.subarray(u,s.byteLength));for(var l=s.byteLength/PIPEFS.BUCKET_BUFFER_SIZE|0,S=s.byteLength%PIPEFS.BUCKET_BUFFER_SIZE,_=0;_<l;_++){var d={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:PIPEFS.BUCKET_BUFFER_SIZE,roffset:0};a.buckets.push(d),d.buffer.set(s.subarray(0,PIPEFS.BUCKET_BUFFER_SIZE)),s=s.subarray(PIPEFS.BUCKET_BUFFER_SIZE,s.byteLength)}if(S>0){var d={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:s.byteLength,roffset:0};a.buckets.push(d),d.buffer.set(s)}return i},close:function(r){r.node.pipe.buckets=null}},nextname:function(){return PIPEFS.nextname.current||(PIPEFS.nextname.current=0),"pipe["+PIPEFS.nextname.current+++"]"}},ENV={},___tm_timezone=(stringToUTF8("GMT",183024,4),183024),__MONTH_DAYS_LEAP=[31,29,31,30,31,30,31,31,30,31,30,31],__MONTH_DAYS_REGULAR=[31,28,31,30,31,30,31,31,30,31,30,31];if(_emscripten_get_now=ENVIRONMENT_IS_NODE?function(){var r=process.hrtime();return 1e3*r[0]+r[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof performance&&performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,FS.staticInit(),ENVIRONMENT_HAS_NODE){var fs=require("fs"),NODEJS_PATH=require("path");NODEFS.staticInit()}var ASSERTIONS=!1,asmGlobalArg={},asmLibraryArg={___clock_gettime:___clock_gettime,___lock:___lock,___map_file:___map_file,___setErrNo:___setErrNo,___syscall10:___syscall10,___syscall102:___syscall102,___syscall114:___syscall114,___syscall118:___syscall118,___syscall12:___syscall12,___syscall121:___syscall121,___syscall122:___syscall122,___syscall125:___syscall125,___syscall132:___syscall132,___syscall133:___syscall133,___syscall14:___syscall14,___syscall140:___syscall140,___syscall142:___syscall142,___syscall144:___syscall144,___syscall145:___syscall145,___syscall147:___syscall147,___syscall148:___syscall148,___syscall15:___syscall15,___syscall150:___syscall150,___syscall151:___syscall151,___syscall152:___syscall152,___syscall153:___syscall153,___syscall163:___syscall163,___syscall168:___syscall168,___syscall180:___syscall180,___syscall181:___syscall181,___syscall183:___syscall183,___syscall191:___syscall191,___syscall192:___syscall192,___syscall193:___syscall193,___syscall194:___syscall194,___syscall195:___syscall195,___syscall196:___syscall196,___syscall197:___syscall197,___syscall198:___syscall198,___syscall199:___syscall199,___syscall20:___syscall20,___syscall200:___syscall200,___syscall201:___syscall201,___syscall202:___syscall202,___syscall205:___syscall205,___syscall207:___syscall207,___syscall209:___syscall209,___syscall211:___syscall211,___syscall212:___syscall212,___syscall218:___syscall218,___syscall219:___syscall219,___syscall220:___syscall220,___syscall221:___syscall221,___syscall268:___syscall268,___syscall269:___syscall269,___syscall272:___syscall272,___syscall29:___syscall29,___syscall295:___syscall295,___syscall296:___syscall296,___syscall297:___syscall297,___syscall298:___syscall298,___syscall3:___syscall3,___syscall300:___syscall300,___syscall301:___syscall301,___syscall302:___syscall302,___syscall303:___syscall303,___syscall304:___syscall304,___syscall305:___syscall305,___syscall306:___syscall306,___syscall308:___syscall308,___syscall320:___syscall320,___syscall324:___syscall324,___syscall33:___syscall33,___syscall330:___syscall330,___syscall331:___syscall331,___syscall333:___syscall333,___syscall334:___syscall334,___syscall337:___syscall337,___syscall34:___syscall34,___syscall340:___syscall340,___syscall345:___syscall345,___syscall36:___syscall36,___syscall38:___syscall38,___syscall39:___syscall39,___syscall4:___syscall4,___syscall40:___syscall40,___syscall41:___syscall41,___syscall42:___syscall42,___syscall5:___syscall5,___syscall51:___syscall51,___syscall54:___syscall54,___syscall57:___syscall57,___syscall60:___syscall60,___syscall63:___syscall63,___syscall64:___syscall64,___syscall66:___syscall66,___syscall75:___syscall75,___syscall77:___syscall77,___syscall83:___syscall83,___syscall85:___syscall85,___syscall9:___syscall9,___syscall91:___syscall91,___syscall94:___syscall94,___syscall96:___syscall96,___syscall97:___syscall97,___unlock:___unlock,___wait:___wait,___wasi_fd_close:___wasi_fd_close,___wasi_fd_write:___wasi_fd_write,__addDays:__addDays,__arraySum:__arraySum,__emscripten_syscall_mmap2:__emscripten_syscall_mmap2,__emscripten_syscall_munmap:__emscripten_syscall_munmap,__exit:__exit,__inet_ntop4_raw:__inet_ntop4_raw,__inet_ntop6_raw:__inet_ntop6_raw,__inet_pton4_raw:__inet_pton4_raw,__inet_pton6_raw:__inet_pton6_raw,__isLeapYear:__isLeapYear,__memory_base:1024,__read_sockaddr:__read_sockaddr,__table_base:0,__write_sockaddr:__write_sockaddr,_clock_gettime:_clock_gettime,_emscripten_get_heap_size:_emscripten_get_heap_size,_emscripten_get_now:_emscripten_get_now,_emscripten_get_now_is_monotonic:_emscripten_get_now_is_monotonic,_emscripten_memcpy_big:_emscripten_memcpy_big,_emscripten_resize_heap:_emscripten_resize_heap,_exit:_exit,_fd_close:_fd_close,_fd_write:_fd_write,_fork:_fork,_getenv:_getenv,_getnameinfo:_getnameinfo,_gmtime_r:_gmtime_r,_inet_addr:_inet_addr,_llvm_stackrestore:_llvm_stackrestore,_llvm_stacksave:_llvm_stacksave,_nanosleep:_nanosleep,_pthread_cleanup_pop:_pthread_cleanup_pop,_pthread_cleanup_push:_pthread_cleanup_push,_pthread_setcancelstate:_pthread_setcancelstate,_pthread_sigmask:_pthread_sigmask,_setitimer:_setitimer,_sigfillset:_sigfillset,_strftime:_strftime,_time:_time,_usleep:_usleep,_wait:_wait,_waitpid:_waitpid,abort:abort,abortOnCannotGrowMemory:abortOnCannotGrowMemory,demangle:demangle,demangleAll:demangleAll,getTempRet0:getTempRet0,invoke_ii:invoke_ii,invoke_iidiiii:invoke_iidiiii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_iiiii:invoke_iiiii,invoke_iiiiii:invoke_iiiiii,invoke_jiji:invoke_jiji,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,jsStackTrace:jsStackTrace,memory:wasmMemory,setTempRet0:setTempRet0,stackTrace:stackTrace,table:wasmTable,tempDoublePtr:tempDoublePtr},asm=Module.asm(asmGlobalArg,asmLibraryArg,buffer);Module.asm=asm;var ___errno_location=Module.___errno_location=function(){return Module.asm.___errno_location.apply(null,arguments)},_emscripten_get_sbrk_ptr=Module._emscripten_get_sbrk_ptr=function(){return Module.asm._emscripten_get_sbrk_ptr.apply(null,arguments)},_free=Module._free=function(){return Module.asm._free.apply(null,arguments)},_h264bsdAlloc=Module._h264bsdAlloc=function(){return Module.asm._h264bsdAlloc.apply(null,arguments)},_h264bsdCroppingParams=Module._h264bsdCroppingParams=function(){return Module.asm._h264bsdCroppingParams.apply(null,arguments)},_h264bsdDecode=Module._h264bsdDecode=function(){return Module.asm._h264bsdDecode.apply(null,arguments)},_h264bsdFree=Module._h264bsdFree=function(){return Module.asm._h264bsdFree.apply(null,arguments)},_h264bsdInit=Module._h264bsdInit=function(){return Module.asm._h264bsdInit.apply(null,arguments)},_h264bsdNextOutputPicture=Module._h264bsdNextOutputPicture=function(){
return Module.asm._h264bsdNextOutputPicture.apply(null,arguments)},_h264bsdNextOutputPictureRGBA=Module._h264bsdNextOutputPictureRGBA=function(){return Module.asm._h264bsdNextOutputPictureRGBA.apply(null,arguments)},_h264bsdPicHeight=Module._h264bsdPicHeight=function(){return Module.asm._h264bsdPicHeight.apply(null,arguments)},_h264bsdPicWidth=Module._h264bsdPicWidth=function(){return Module.asm._h264bsdPicWidth.apply(null,arguments)},_h264bsdShutdown=Module._h264bsdShutdown=function(){return Module.asm._h264bsdShutdown.apply(null,arguments)},_htons=Module._htons=function(){return Module.asm._htons.apply(null,arguments)},_llvm_bswap_i16=Module._llvm_bswap_i16=function(){return Module.asm._llvm_bswap_i16.apply(null,arguments)},_llvm_bswap_i32=Module._llvm_bswap_i32=function(){return Module.asm._llvm_bswap_i32.apply(null,arguments)},_llvm_maxnum_f32=Module._llvm_maxnum_f32=function(){return Module.asm._llvm_maxnum_f32.apply(null,arguments)},_llvm_maxnum_f64=Module._llvm_maxnum_f64=function(){return Module.asm._llvm_maxnum_f64.apply(null,arguments)},_malloc=Module._malloc=function(){return Module.asm._malloc.apply(null,arguments)},_memalign=Module._memalign=function(){return Module.asm._memalign.apply(null,arguments)},_memcpy=Module._memcpy=function(){return Module.asm._memcpy.apply(null,arguments)},_memmove=Module._memmove=function(){return Module.asm._memmove.apply(null,arguments)},_memset=Module._memset=function(){return Module.asm._memset.apply(null,arguments)},_ntohs=Module._ntohs=function(){return Module.asm._ntohs.apply(null,arguments)},_rintf=Module._rintf=function(){return Module.asm._rintf.apply(null,arguments)},_round=Module._round=function(){return Module.asm._round.apply(null,arguments)},_roundf=Module._roundf=function(){return Module.asm._roundf.apply(null,arguments)},establishStackSpace=Module.establishStackSpace=function(){return Module.asm.establishStackSpace.apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return Module.asm.stackAlloc.apply(null,arguments)},stackRestore=Module.stackRestore=function(){return Module.asm.stackRestore.apply(null,arguments)},stackSave=Module.stackSave=function(){return Module.asm.stackSave.apply(null,arguments)},dynCall_ii=Module.dynCall_ii=function(){return Module.asm.dynCall_ii.apply(null,arguments)},dynCall_iidiiii=Module.dynCall_iidiiii=function(){return Module.asm.dynCall_iidiiii.apply(null,arguments)},dynCall_iii=Module.dynCall_iii=function(){return Module.asm.dynCall_iii.apply(null,arguments)},dynCall_iiii=Module.dynCall_iiii=function(){return Module.asm.dynCall_iiii.apply(null,arguments)},dynCall_iiiii=Module.dynCall_iiiii=function(){return Module.asm.dynCall_iiiii.apply(null,arguments)},dynCall_iiiiii=Module.dynCall_iiiiii=function(){return Module.asm.dynCall_iiiiii.apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return Module.asm.dynCall_jiji.apply(null,arguments)},dynCall_v=Module.dynCall_v=function(){return Module.asm.dynCall_v.apply(null,arguments)},dynCall_vi=Module.dynCall_vi=function(){return Module.asm.dynCall_vi.apply(null,arguments)},dynCall_vii=Module.dynCall_vii=function(){return Module.asm.dynCall_vii.apply(null,arguments)};Module.asm=asm,Module.setValue=setValue,Module.getValue=getValue;var calledRun,calledMain=!1;if(dependenciesFulfilled=function r(){calledRun||run(),calledRun||(dependenciesFulfilled=r)},Module.run=run,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();noExitRuntime=!0,run(),H264bsdDecoder.RDY=0,H264bsdDecoder.PIC_RDY=1,H264bsdDecoder.HDRS_RDY=2,H264bsdDecoder.ERROR=3,H264bsdDecoder.PARAM_SET_ERROR=4,H264bsdDecoder.MEMALLOC_ERROR=5,H264bsdDecoder.NO_INPUT=1024,H264bsdDecoder.prototype.release=function(){var r=this.module,e=this.pStorage,t=this.pInput;0!=e&&(r._h264bsdShutdown(e),r._h264bsdFree(e)),0!=t&&r._free(t),this.pStorage=0,this.pInput=0,this.inputLength=0,this.inputOffset=0},H264bsdDecoder.prototype.queueInput=function(r){var e=this.module,t=this.pInput,n=this.inputLength,o=this.inputOffset;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),0===t)n=r.byteLength,t=e._malloc(n),o=0,e.HEAPU8.set(r,t);else{var a=n-o,s=a+r.byteLength,i=e._malloc(s);e._memcpy(i,t+o,a),e.HEAPU8.set(r,i+a),e._free(t),t=i,n=s,o=0}this.pInput=t,this.inputLength=n,this.inputOffset=o,this.decode()},H264bsdDecoder.prototype.inputBytesRemaining=function(){return this.inputLength-this.inputOffset},H264bsdDecoder.prototype.decode=function(){var r=this.module,e=this.pStorage,t=this.pInput,n=this.inputLength,o=this.inputOffset;if(0==t)return H264bsdDecoder.NO_INPUT;for(var a=r._malloc(4);t>0;){var s=0,i=r._h264bsdDecode(e,t+o,n-o,0,a);i!=H264bsdDecoder.RDY&&i!=H264bsdDecoder.PIC_RDY&&i!=H264bsdDecoder.HDRS_RDY||(s=r.getValue(a,"i32")),o+=s,o>=n&&(r._free(t),t=0,o=0,n=0),this.pInput=t,this.inputLength=n,this.inputOffset=o,i==H264bsdDecoder.PIC_RDY&&this.onPictureReady instanceof Function&&this.onPictureReady(),i==H264bsdDecoder.HDRS_RDY&&this.onHeadersReady instanceof Function&&this.onHeadersReady()}r._free(a)},H264bsdDecoder.prototype.nextOutputPicture=function(){var r=this.module,e=this.pStorage,t=r._malloc(4),n=r._malloc(4),o=r._malloc(4),a=r._h264bsdNextOutputPicture(e,t,n,o);r._free(t),r._free(n),r._free(o);var s=this.outputPictureSizeBytes();return new Uint8Array(r.HEAPU8.subarray(a,a+s))},H264bsdDecoder.prototype.nextOutputPictureRGBA=function(){var r=this.module,e=this.pStorage,t=r._malloc(4),n=r._malloc(4),o=r._malloc(4),a=r._h264bsdNextOutputPictureRGBA(e,t,n,o);r._free(t),r._free(n),r._free(o);var s=this.outputPictureSizeBytesRGBA();return new Uint8Array(r.HEAPU8.subarray(a,a+s))},H264bsdDecoder.prototype.outputPictureWidth=function(){var r=this.module,e=this.pStorage;return 16*r._h264bsdPicWidth(e)},H264bsdDecoder.prototype.outputPictureHeight=function(){var r=this.module,e=this.pStorage;return 16*r._h264bsdPicHeight(e)},H264bsdDecoder.prototype.outputPictureSizeBytes=function(){return this.outputPictureWidth()*this.outputPictureHeight()*3/2},H264bsdDecoder.prototype.outputPictureSizeBytesRGBA=function(){return this.outputPictureWidth()*this.outputPictureHeight()*4},H264bsdDecoder.prototype.croppingParams=function(){var r=this.module,e=this.pStorage,t=r._malloc(4),n=r._malloc(4),o=r._malloc(4),a=r._malloc(4),s=r._malloc(4);r._h264bsdCroppingParams(e,t,n,o,a,s);var i=r.getValue(t,"i32"),c=r.getValue(n,"i32"),u=r.getValue(o,"i32"),l=r.getValue(a,"i32"),S=r.getValue(s,"i32");return r._free(t),r._free(n),r._free(o),r._free(a),r._free(s),0===i?null:{width:u,height:S,top:l,left:c}},"undefined"!=typeof module&&(module.exports=H264bsdDecoder),void 0===H264bsdDecoder&&importScripts("h264bsd_decoder.js","h264bsd_asm.js"),Module.onRuntimeInitialized=function(){function r(r){var e=r.data;switch(e.type){case"queueInput":a.queueInput(e.data),o&&(o=!1,n())}}function e(){var r=a.outputPictureWidth(),e=a.outputPictureHeight(),t=a.croppingParams(),n=a.nextOutputPicture();postMessage({type:"pictureReady",width:r,height:e,croppingParams:t,data:n.buffer},[n.buffer])}function t(){var r=a.outputPictureWidth(),e=a.outputPictureHeight(),t=a.croppingParams();postMessage({type:"pictureParams",width:r,height:e,croppingParams:t})}function n(){switch(a.decode()){case H264bsdDecoder.ERROR:postMessage({type:"decodeError"});break;case H264bsdDecoder.PARAM_SET_ERROR:postMessage({type:"paramSetError"});break;case H264bsdDecoder.MEMALLOC_ERROR:postMessage({type:"memAllocError"});break;case H264bsdDecoder.NO_INPUT:o=!0,postMessage({type:"noInput"})}}var o=!0;addEventListener("message",r);var a=new H264bsdDecoder(Module);a.onPictureReady=e,a.onHeadersReady=t,postMessage({type:"decoderReady"})};